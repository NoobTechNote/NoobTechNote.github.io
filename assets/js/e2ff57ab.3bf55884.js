"use strict";(self.webpackChunknoobtechnote_github_io_source=self.webpackChunknoobtechnote_github_io_source||[]).push([[383],{3905:function(t,e,a){a.d(e,{Zo:function(){return m},kt:function(){return s}});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var o=n.createContext({}),d=function(t){var e=n.useContext(o),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},m=function(t){var e=d(t.components);return n.createElement(o.Provider,{value:e},t.children)},k={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},u=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,o=t.parentName,m=p(t,["components","mdxType","originalType","parentName"]),u=d(a),s=r,c=u["".concat(o,".").concat(s)]||u[s]||k[s]||l;return a?n.createElement(c,i(i({ref:e},m),{},{components:a})):n.createElement(c,i({ref:e},m))}));function s(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=u;var p={};for(var o in e)hasOwnProperty.call(e,o)&&(p[o]=e[o]);p.originalType=t,p.mdxType="string"==typeof t?t:r,i[1]=p;for(var d=2;d<l;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},6068:function(t,e,a){a.r(e),a.d(e,{assets:function(){return m},contentTitle:function(){return o},default:function(){return s},frontMatter:function(){return p},metadata:function(){return d},toc:function(){return k}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),i=["components"],p={title:"Ch4: \u6700\u5927\u5316\u7684\u5229\u7528HTTP Protocol",sidebar_label:"Ch4: \u6700\u5927\u5316\u7684\u5229\u7528HTTP Protocol",sidebar_position:4},o=void 0,d={unversionedId:"sg/web-api-the-good-parts/ch4-maximize-utilization-of-http",id:"sg/web-api-the-good-parts/ch4-maximize-utilization-of-http",title:"Ch4: \u6700\u5927\u5316\u7684\u5229\u7528HTTP Protocol",description:"4.1 \u4f7f\u7528 HTTP \u5354\u8b70\u898f\u7bc4\u7684\u610f\u7fa9",source:"@site/docs/sg/web-api-the-good-parts/ch4-maximize-utilization-of-http.mdx",sourceDirName:"sg/web-api-the-good-parts",slug:"/sg/web-api-the-good-parts/ch4-maximize-utilization-of-http",permalink:"/docs/sg/web-api-the-good-parts/ch4-maximize-utilization-of-http",draft:!1,editUrl:"https://github.com/NoobTechNote/NoobTechNote.github.io/tree/main/docs/sg/web-api-the-good-parts/ch4-maximize-utilization-of-http.mdx",tags:[],version:"current",lastUpdatedBy:"MichaelChen",lastUpdatedAt:1657778781,formattedLastUpdatedAt:"7/14/2022",sidebarPosition:4,frontMatter:{title:"Ch4: \u6700\u5927\u5316\u7684\u5229\u7528HTTP Protocol",sidebar_label:"Ch4: \u6700\u5927\u5316\u7684\u5229\u7528HTTP Protocol",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Ch3: Design Response Data",permalink:"/docs/sg/web-api-the-good-parts/ch3-design-response-data"}},m={},k=[{value:"4.1 \u4f7f\u7528 HTTP \u5354\u8b70\u898f\u7bc4\u7684\u610f\u7fa9",id:"41-\u4f7f\u7528-http-\u5354\u8b70\u898f\u7bc4\u7684\u610f\u7fa9",level:2},{value:"4.2 \u6b63\u78ba\u4f7f\u7528\u72c0\u614b\u78bc",id:"42-\u6b63\u78ba\u4f7f\u7528\u72c0\u614b\u78bc",level:2},{value:"HTTP \u72c0\u614b\u78bc\u53ef\u5340\u5206\u70ba\u4e94\u5927\u985e\uff1a",id:"http-\u72c0\u614b\u78bc\u53ef\u5340\u5206\u70ba\u4e94\u5927\u985e",level:3},{value:"4.3 Cache \u8207 HTTP",id:"43-cache-\u8207-http",level:2},{value:"4.3.1 \u904e\u671f\u6a21\u578b(Expiration Model)",id:"431-\u904e\u671f\u6a21\u578bexpiration-model",level:3},{value:"4.3.2 \u9a57\u8b49\u6a21\u578b(Validation Model)",id:"432-\u9a57\u8b49\u6a21\u578bvalidation-model",level:3},{value:"4.3.3 \u555f\u767c\u5f0f\u904e\u671f(Heuristic Expiration)",id:"433-\u555f\u767c\u5f0f\u904e\u671fheuristic-expiration",level:3},{value:"4.3.4 \u4e0d\u5e0c\u671b\u5be6\u65bd\u7de9\u5b58\u7684\u60c5\u6cc1",id:"434-\u4e0d\u5e0c\u671b\u5be6\u65bd\u7de9\u5b58\u7684\u60c5\u6cc1",level:3},{value:"4.3.5 \u4f7f\u7528 Vary \u4f86\u6307\u5b9a\u7de9\u5b58\u55ae\u4f4d",id:"435-\u4f7f\u7528-vary-\u4f86\u6307\u5b9a\u7de9\u5b58\u55ae\u4f4d",level:3},{value:"4.4 Content-Type \u7684\u6307\u5b9a",id:"44-content-type-\u7684\u6307\u5b9a",level:2},{value:"\u8207 Content-Type \u6709\u95dc\u7684\u60c5\u5883",id:"\u8207-content-type-\u6709\u95dc\u7684\u60c5\u5883",level:3},{value:"Request \u6a19\u660e Server \u7684\u8655\u7406\u65b9\u5f0f",id:"request-\u6a19\u660e-server-\u7684\u8655\u7406\u65b9\u5f0f",level:4},{value:"Response \u63a7\u5236\u700f\u89bd\u5668\u7684\u884c\u70ba",id:"response-\u63a7\u5236\u700f\u89bd\u5668\u7684\u884c\u70ba",level:4},{value:"Response \u7684 Content Type",id:"response-\u7684-content-type",level:3},{value:"\u5e38\u898b\u7684 Content-Type",id:"\u5e38\u898b\u7684-content-type",level:4},{value:"X- \u958b\u982d\u7684 Content Type",id:"x--\u958b\u982d\u7684-content-type",level:4},{value:"\u81ea\u5b9a\u7fa9\u7684 Content Type",id:"\u81ea\u5b9a\u7fa9\u7684-content-type",level:4},{value:"Request \u7684 Content Type",id:"request-\u7684-content-type",level:3},{value:"Accept Header",id:"accept-header",level:4},{value:"Vary: Accept",id:"vary-accept",level:4},{value:"4.5 Origin Policy \u8207 CORS \u8cc7\u6e90\u5171\u4eab",id:"45-origin-policy-\u8207-cors-\u8cc7\u6e90\u5171\u4eab",level:2},{value:"4.6 \u5b9a\u7fa9\u79c1\u6709\u7684 HTTP Header",id:"46-\u5b9a\u7fa9\u79c1\u6709\u7684-http-header",level:2},{value:"4.7 \u5c0f\u7d50",id:"47-\u5c0f\u7d50",level:2}],u={toc:k};function s(t){var e=t.components,p=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,n.Z)({},u,p,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"41-\u4f7f\u7528-http-\u5354\u8b70\u898f\u7bc4\u7684\u610f\u7fa9"},"4.1 \u4f7f\u7528 HTTP \u5354\u8b70\u898f\u7bc4\u7684\u610f\u7fa9"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"- RFC (Request For Comments)\n")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"http_request_message_format",src:a(1718).Z,width:"660",height:"290"}),"\n",(0,l.kt)("img",{alt:"http_response_message_format",src:a(6506).Z,width:"660",height:"312"})),(0,l.kt)("p",null,"Image From:",(0,l.kt)("a",{parentName:"p",href:"http://www.tcpipguide.com/free/t_HTTPGenericMessageFormat.htm"},"The TCP/IP Guide")),(0,l.kt)("h2",{id:"42-\u6b63\u78ba\u4f7f\u7528\u72c0\u614b\u78bc"},"4.2 \u6b63\u78ba\u4f7f\u7528\u72c0\u614b\u78bc"),(0,l.kt)("h3",{id:"http-\u72c0\u614b\u78bc\u53ef\u5340\u5206\u70ba\u4e94\u5927\u985e"},"HTTP \u72c0\u614b\u78bc\u53ef\u5340\u5206\u70ba\u4e94\u5927\u985e\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1xx \u6d88\u606f"),(0,l.kt)("li",{parentName:"ul"},"2xx \u6210\u529f"),(0,l.kt)("li",{parentName:"ul"},"3xx \u91cd\u65b0\u5c0e\u5411"),(0,l.kt)("li",{parentName:"ul"},"4xx \u5ba2\u6236\u7aef\u932f\u8aa4"),(0,l.kt)("li",{parentName:"ul"},"5xx \u4f3a\u670d\u5668\u932f\u8aa4")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u8981\u7684\u72c0\u614b\u78bc")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Status code"),(0,l.kt)("th",{parentName:"tr",align:null},"Nmae"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"200"),(0,l.kt)("td",{parentName:"tr",align:null},"OK"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u6210\u529f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"201"),(0,l.kt)("td",{parentName:"tr",align:null},"Created"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u5df2\u88ab\u63a5\u53d7\uff0c\u65b0\u7684\u8cc7\u6e90\u5df2\u5275\u5efa")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"202"),(0,l.kt)("td",{parentName:"tr",align:null},"Accepted"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u6210\u529f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"204"),(0,l.kt)("td",{parentName:"tr",align:null},"No Content"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6c92\u6709\u5167\u5bb9")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"300"),(0,l.kt)("td",{parentName:"tr",align:null},"Multiple Choices"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8fd4\u56de\u591a\u689d\u91cd\u5b9a\u5411\u4f9b\u9078\u64c7")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"301"),(0,l.kt)("td",{parentName:"tr",align:null},"Moved Permanently"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6c38\u4e45\u91cd\u5b9a\u5411")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"302"),(0,l.kt)("td",{parentName:"tr",align:null},"Found"),(0,l.kt)("td",{parentName:"tr",align:null},"\u81e8\u65f6\u91cd\u5b9a\u5411")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"303"),(0,l.kt)("td",{parentName:"tr",align:null},"See Other"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7576\u524d\u8acb\u6c42\u7684\u8cc7\u6e90\u5728\u5176\u5b83\u5730\u5740")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"304"),(0,l.kt)("td",{parentName:"tr",align:null},"Not Modified"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u8cc7\u6e90\u8207\u672c\u5730\u7de9\u5b58\u76f8\u540c\uff0c\u672a\u4fee\u6539")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"307"),(0,l.kt)("td",{parentName:"tr",align:null},"Temporary Redirect"),(0,l.kt)("td",{parentName:"tr",align:null},"\u81e8\u6642\u91cd\u5b9a\u5411\uff0c\u540c 302")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"400"),(0,l.kt)("td",{parentName:"tr",align:null},"Bad Request"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u932f\u8aa4\uff0c\u901a\u5e38\u662f\u8a2a\u554f\u7684\u57df\u540d\u672a\u7d81\u5b9a\u5f15\u8d77")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"401"),(0,l.kt)("td",{parentName:"tr",align:null},"Unauthorized"),(0,l.kt)("td",{parentName:"tr",align:null},"\u9700\u8981\u8eab\u4efd\u8ba4\u8bc1\u9a8c\u8bc1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"403"),(0,l.kt)("td",{parentName:"tr",align:null},"Forbidden"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7981\u6b62\u8a2a\u554f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"404"),(0,l.kt)("td",{parentName:"tr",align:null},"Not Found"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u7684\u5167\u5bb9\u672a\u627e\u5230\u6216\u5df2\u522a\u9664")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"405"),(0,l.kt)("td",{parentName:"tr",align:null},"Method Not Allowed"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4e0d\u5141\u8bb8\u7684\u8bf7\u6c42\u65b9\u6cd5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"406"),(0,l.kt)("td",{parentName:"tr",align:null},"Not Acceptable"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7121\u6cd5\u97ff\u61c9\uff0c\u56e0\u8cc7\u6e90\u7121\u6cd5\u6eff\u8db3\u5ba2\u6236\u7aef\u689d\u4ef6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"408"),(0,l.kt)("td",{parentName:"tr",align:null},"Request Timeout"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u8d85\u6642")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"409"),(0,l.kt)("td",{parentName:"tr",align:null},"Conflict"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5b58\u5728\u885d\u7a81")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"410"),(0,l.kt)("td",{parentName:"tr",align:null},"Gone"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8cc7\u6e90\u5df2\u7d93\u4e0d\u5b58\u5728(\u904e\u53bb\u5b58\u5728)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"413"),(0,l.kt)("td",{parentName:"tr",align:null},"Payload Too Large"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u7684 URI \u904e\u9577")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"414"),(0,l.kt)("td",{parentName:"tr",align:null},"Request-URI Too Long"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u8cc7\u6e90\u8207\u672c\u5730\u7de9\u5b58\u76f8\u540c\uff0c\u672a\u4fee\u6539")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"415"),(0,l.kt)("td",{parentName:"tr",align:null},"Unsupported Media Type"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7121\u6cd5\u8655\u7406\u7684\u5a92\u9ad4\u683c\u5f0f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"429"),(0,l.kt)("td",{parentName:"tr",align:null},"Too Many Requests"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4e26\u767c\u8acb\u6c42\u904e\u591a")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"500"),(0,l.kt)("td",{parentName:"tr",align:null},"Internal Server Error"),(0,l.kt)("td",{parentName:"tr",align:null},"\u670d\u52d9\u5668\u7aef\u7a0b\u5e8f\u932f\u8aa4")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"503"),(0,l.kt)("td",{parentName:"tr",align:null},"Service Unavailable"),(0,l.kt)("td",{parentName:"tr",align:null},"\u670d\u52d9\u5668\u7aef\u81e8\u6642\u932f\u8aa4")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n    "head": {\n        "errorCode": 1001,\n        "errorMessage": "Invalid parameter"\n    },\n    "body": {\n        :\n    }\n}\n')),(0,l.kt)("h2",{id:"43-cache-\u8207-http"},"4.3 Cache \u8207 HTTP"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6e1b\u5c11\u670d\u52d9\u5668\u7684\u9023\u7dda\u6578\u91cf\uff0c\u53ef\u4ee5\u63d0\u5347\u7528\u6236\u8a2a\u554f\u901f\u5ea6"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u7db2\u8def\u9023\u7dda\u65b7\u958b\u7684\u72c0\u614b\u4e0b\u4e5f\u53ef\u4ee5\u5728\u67d0\u7a2e\u7a0b\u5ea6\u63d0\u4f9b\u670d\u52d9"),(0,l.kt)("li",{parentName:"ul"},"\u5ba2\u6236\u7aef\u5c07\u8cc7\u6599\u66ab\u5b58")),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Discussion")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u53cd\u5411\u4ee3\u7406\u670d\u52d9\u5668 Reverse Proxy"))),(0,l.kt)("h3",{id:"431-\u904e\u671f\u6a21\u578bexpiration-model"},"4.3.1 \u904e\u671f\u6a21\u578b(Expiration Model)"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7de9\u5b58\u53ef\u7528\u72c0\u614b fresh(\u65b0\u9bae)"),(0,l.kt)("li",{parentName:"ul"},"\u7de9\u5b58\u4e0d\u53ef\u7528\u72c0\u614b stale(\u4e0d\u65b0\u9bae)")),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Discussion")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u4f60\u6709\u7528\u904e Expires, Cache-Control \u7684\u7d93\u9a57\u55ce\uff1f"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"HTTP \u6642\u9593\u683c\u5f0f, \u53ea\u80fd\u7528 GMT \u6642\u5340")),(0,l.kt)("h3",{id:"432-\u9a57\u8b49\u6a21\u578bvalidation-model"},"4.3.2 \u9a57\u8b49\u6a21\u578b(Validation Model)"),(0,l.kt)("p",null,"\u6700\u5f8c\u66f4\u65b0\u6703\u586b\u5728 Last-Modified, ETag"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'Last-Modified: Tue, 01 Jul 2014 00:00:00 GMT\nETag: "ff39b31e285573ee373af0d492aca581"\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"- MD5, SHA1\n")),(0,l.kt)("p",null,"\u5f37\u6821\u9a57\u548c\u5f31\u6821\u9a57"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'"123456789" -- \u4e00\u500b\u5f37ETag\u9a57\u8b49\u7b26\nW/"123456789" -- \u4e00\u500b\u5f31ETag\u9a57\u8b49\u7b26\n')),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Discussion")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u4f60\u6709\u505a\u904e\u9a57\u8b49\u6a21\u578b\u7684\u76f8\u95dc\u529f\u80fd\u55ce\uff1f"))),(0,l.kt)("h3",{id:"433-\u555f\u767c\u5f0f\u904e\u671fheuristic-expiration"},"4.3.3 \u555f\u767c\u5f0f\u904e\u671f(Heuristic Expiration)"),(0,l.kt)("p",null,"client \u7aef\u6839\u64da server \u7aef\u7684\u66f4\u65b0\u983b\u7387,\u5177\u9ad4\u72c0\u614b\u7b49\u8a0a\u606f\uff0c\u81ea\u884c\u6c7a\u5b9a\u7de9\u5b58\u6642\u9593\u3002"),(0,l.kt)("h3",{id:"434-\u4e0d\u5e0c\u671b\u5be6\u65bd\u7de9\u5b58\u7684\u60c5\u6cc1"},"4.3.4 \u4e0d\u5e0c\u671b\u5be6\u65bd\u7de9\u5b58\u7684\u60c5\u6cc1"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Cache-Control: no-cache\n")),(0,l.kt)("h3",{id:"435-\u4f7f\u7528-vary-\u4f86\u6307\u5b9a\u7de9\u5b58\u55ae\u4f4d"},"4.3.5 \u4f7f\u7528 Vary \u4f86\u6307\u5b9a\u7de9\u5b58\u55ae\u4f4d"),(0,l.kt)("p",null,"\u670d\u52d9\u5668\u9a45\u52d5\u7684\u5167\u5bb9\u5354\u5546(Server Driven Content Negotiation)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Accept-Language: ja\nVary: Accept-Language\n")),(0,l.kt)("h2",{id:"44-content-type-\u7684\u6307\u5b9a"},"4.4 Content-Type \u7684\u6307\u5b9a"),(0,l.kt)("p",null,"Content-Type \u662f\u4e00\u500b\u7684 HTTP Header\uff0c\u7528\u4f86\u544a\u8a34\u5c0d\u65b9\u81ea\u5df1\u6240\u50b3\u9001\u7684\u9019\u5305 payload \u662f\u4ec0\u9ebc\u6a23\u7684\u985e\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Content-Type: type/subtype [;options]\n\n# Example\nContent-Type: text/html; charset=utf-8\n")),(0,l.kt)("h3",{id:"\u8207-content-type-\u6709\u95dc\u7684\u60c5\u5883"},"\u8207 Content-Type \u6709\u95dc\u7684\u60c5\u5883"),(0,l.kt)("h4",{id:"request-\u6a19\u660e-server-\u7684\u8655\u7406\u65b9\u5f0f"},"Request \u6a19\u660e Server \u7684\u8655\u7406\u65b9\u5f0f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"AWS API Gateway \u5c0d\u65bc\u4e0d\u540c\u7684 request Content-Type \u6709\u4e00\u5957\u9810\u8a2d\u7684",(0,l.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-payload-encodings-workflow.html"},"\u8655\u7406\u65b9\u5f0f"))),(0,l.kt)("h4",{id:"response-\u63a7\u5236\u700f\u89bd\u5668\u7684\u884c\u70ba"},"Response \u63a7\u5236\u700f\u89bd\u5668\u7684\u884c\u70ba"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Github \u7528",(0,l.kt)("inlineCode",{parentName:"li"},"text/plain"),"\u50b3\u9001\u7684 JS Source code \u5167\u5bb9\uff0c\u8b93\u700f\u89bd\u5668\u76f4\u63a5\u6aa2\u8996 source code \u800c\u4e0d\u6703\u88ab\u610f\u5916\u57f7\u884c\n",(0,l.kt)("a",{parentName:"li",href:"https://raw.githubusercontent.com/NoobTechNote/NoobTechNote.github.io/main/sidebars.js"},"https://raw.githubusercontent.com/NoobTechNote/NoobTechNote.github.io/main/sidebars.js"))),(0,l.kt)("p",null,"\u5982\u679c\u5728 HTML \u5167\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"<script>"),"Tag \u5b58\u53d6\u4e0a\u9762\u7684 js link\uff0c\u6703\u5f97\u5230\u932f\u8aa4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Refused to execute script from 'https://raw.githubusercontent.com/NoobTechNote/NoobTechNote.github.io/main/sidebars.js'\nbecause its MIME type ('application/json') is not executable, and strict MIME type checking is enabled.\n")),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Notice")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u4e00\u500b\u5e38\u898b\u7684\u932f\u8aa4\u5176\u5be6\u662f\u4f7f\u7528 text/html \u50b3\u9001 javascript \u5167\u5bb9\n\u6240\u4ee5\u4f60\u7528\u7684 Backend Framework \u5176\u5be6\u6709\u5728\u5e6b\u4f60\u8655\u7406 Response \u7684 Content-Type"),(0,l.kt)("p",{parentName:"div"},"\u4f8b\u5982 PHP \u7684 ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/symfony/symfony/blob/6.2/src/Symfony/Component/HttpFoundation/Response.php#L259"},"Symfony Response")))),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u700f\u89bd\u5668\u5176\u5be6\u4e0d\u7e3d\u662f\u6703\u807d Content-Type \u7684\u610f\u601d\uff0c\u6709\u6642\u6703\u4f9d\u7167\u5167\u5bb9\u731c\u6e2c\uff0c\u8a72\u7528\u4ec0\u9ebc\u884c\u70ba\u8655\u7406\u9019\u500b HTTP response"),(0,l.kt)("p",{parentName:"div"},"X-Content-Type-Options: nosniff \u53ef\u4ee5\u5354\u52a9\u4f60\u963b\u6b62\u700f\u89bd\u5668\u731c\u6e2c response \u5167\u5bb9\u5c0e\u81f4\u975e\u9810\u671f\u7684\u884c\u70ba"))),(0,l.kt)("h3",{id:"response-\u7684-content-type"},"Response \u7684 Content Type"),(0,l.kt)("h4",{id:"\u5e38\u898b\u7684-content-type"},"\u5e38\u898b\u7684 Content-Type"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Content-Type"),(0,l.kt)("th",{parentName:"tr",align:null},"\u542b\u7fa9"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"text/plain"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7d14\u6587\u5b57 ",(0,l.kt)("a",{parentName:"td",href:"#anchor1"},"(\u8a3b 1)"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"text/html"),(0,l.kt)("td",{parentName:"tr",align:null},"HTML \u6587\u4ef6 ",(0,l.kt)("a",{parentName:"td",href:"#anchor1"},"(\u8a3b 1)"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"application/xml"),(0,l.kt)("td",{parentName:"tr",align:null},"XML \u6587\u4ef6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"application/rss+xml"),(0,l.kt)("td",{parentName:"tr",align:null},"RSS XML \u6587\u4ef6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"application/json"),(0,l.kt)("td",{parentName:"tr",align:null},"JSON \u6587\u4ef6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"text/css"),(0,l.kt)("td",{parentName:"tr",align:null},"CSS \u6587\u4ef6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"application/javascript"),(0,l.kt)("td",{parentName:"tr",align:null},"Javascript \u7a0b\u5f0f\uff0c\u820a\u7a31 text/javascript\uff0c\u4f46\u5728",(0,l.kt)("a",{parentName:"td",href:"https://datatracker.ietf.org/doc/html/rfc4329#page-9"},"RFC4329"),"\u5ee2\u9664")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"multipart/form-data"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8868\u55ae\u8cc7\u6599\uff0c\u5e38\u7528\u5728 Form POST Request")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",{id:"anchor1"},(0,l.kt)("strong",null,"\u8a3b1"),"\uff1a \u8a9e\u610f\u4e0a\u5176\u5be6\u8a72\u5c6c\u65bc",(0,l.kt)("code",null,"application/"),"\uff0c\u4f46\u56e0\u70ba\u6b77\u53f2\u56e0\u7d20\u7dad\u6301",(0,l.kt)("code",null,"text/"),"\u5206\u985e"),(0,l.kt)("h4",{id:"x--\u958b\u982d\u7684-content-type"},"X- \u958b\u982d\u7684 Content Type"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"x-"),"\u958b\u982d\u7684 Content Type \u4ee3\u8868\u6c92\u6709\u5728 IANA \u8a3b\u518a\uff0c\u901a\u5e38\u5177\u5099\u7279\u6b8a\u7528\u9014\uff0c\u6216\u662f\u81ea\u5b9a\u7fa9\u7684 Content Type \u6703\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"x-"),"\u958b\u982d\u53bb\u5b9a\u7fa9\uff0c\u4f8b\u5982"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Content Type"),(0,l.kt)("th",{parentName:"tr",align:null}))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"application/x-msgpack"),(0,l.kt)("td",{parentName:"tr",align:null},"MessagePack")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"application/x-yaml"),(0,l.kt)("td",{parentName:"tr",align:null},"YAML \u6587\u4ef6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"application/x-plist"),(0,l.kt)("td",{parentName:"tr",align:null},"Mac \u7684 property list\uff0c\u5e38\u898b\u65bc\u4e0b\u8f09 iOS App \u7684\u5f15\u5c0e")))),(0,l.kt)("p",null,"\u4f46\uff0c\u56e0\u70ba\u6b77\u53f2\u56e0\u7d20\uff0c\u6709\u4e9b",(0,l.kt)("inlineCode",{parentName:"p"},"x-"),"\u958b\u982d\u7684 Content Type \u662f\u6709\u5728 IANA \u8a3b\u518a\u7684"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Content Type"),(0,l.kt)("th",{parentName:"tr",align:null}))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"application/x-javascript"),(0,l.kt)("td",{parentName:"tr",align:null},"Javascript \u7a0b\u5f0f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"application/x-json"),(0,l.kt)("td",{parentName:"tr",align:null},"JSON \u6587\u4ef6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"image/x-png"),(0,l.kt)("td",{parentName:"tr",align:null},"PNG \u5716\u7247")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"x-www-form-urlencoded"),(0,l.kt)("td",{parentName:"tr",align:null},"HTML Form ",(0,l.kt)("a",{parentName:"td",href:"#anchor2"},"(\u8a3b 2)"))))),(0,l.kt)("p",{id:"anchor2"},(0,l.kt)("strong",null,"\u8a3b2"),"\uff1a\u7528`x-www-form-urlencoded`\u50b3\u9001\u7684\u8cc7\u6599\uff0c\u5373\u4f7f\u4f60\u7528POST\u50b3\u9001\uff0c\u4f46\u5be6\u969b\u4e0a\u6703\u88ab\u505aURL Encode\u653e\u5728URL\u4e0a\u3002\u56e0\u70baURL\u7121\u6cd5\u52a0\u5bc6\uff0c\u5982\u679c\u5e36\u6709\u654f\u611f\u8a0a\u606f\u5f88\u5bb9\u6613\u6703\u88ab\u5404\u7a2elog\u6216\u4e2d\u9593\u4eba\u6514\u622a"),(0,l.kt)("h4",{id:"\u81ea\u5b9a\u7fa9\u7684-content-type"},"\u81ea\u5b9a\u7fa9\u7684 Content Type"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc6838#section-3"},"RFC6838"),"\u6709\u898f\u5b9a\u4e00\u7d44\uff0c\u5982\u679c\u4f60\u9700\u8981\u81ea\u5df1\u5b9a\u7fa9 Content Type \u6642\u7684\u53c3\u8003"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Standard Tree: \u7121\u524d\u7db4\uff0c\u6a19\u6e96\u4e2d\u6709\u5b9a\u7fa9\u7684 content-type\uff0c\u5c6c\u65bc\u88ab\u4fdd\u7559\u7684\u4e00\u7fa4"),(0,l.kt)("li",{parentName:"ul"},"Vendor Tree: ",(0,l.kt)("inlineCode",{parentName:"li"},"vnd"),"\uff0c\u6709\u88ab IANA \u8a8d\u8b49\u904e\u7684\u516c\u53f8\u4f7f\u7528\u3002\u901a\u5e38\u6703\u88ab\u5927\u7bc4\u570d\u4f7f\u7528\uff0c\u4f46\u7531\u7279\u5b9a\u516c\u53f8\u7ba1\u7406",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"application/vnd.ms-excel"),(0,l.kt)("li",{parentName:"ul"},"application/vnd.github.v3+json"))),(0,l.kt)("li",{parentName:"ul"},"Personal Tree: ",(0,l.kt)("inlineCode",{parentName:"li"},"prs."),"\uff0c\u500b\u4eba\u4f7f\u7528\uff0c\u6216\u5be6\u9a57\u6027\u7528\u9014\uff0c\u53ea\u5728\u975e\u516c\u958b\u7684\u72c0\u6cc1\u4e0b\u88ab\u4f7f\u7528",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"appliccation/prs.mech.v1+json"))),(0,l.kt)("li",{parentName:"ul"},"Unregistered Tree: ",(0,l.kt)("inlineCode",{parentName:"li"},"x."),"\uff0c\u50c5\u79c1\u6709\u4f7f\u7528\uff0c\u4e0d\u80fd\u88ab\u8a3b\u518a")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u6ce8\u610f",(0,l.kt)("inlineCode",{parentName:"p"},"x."),"\u8ddf",(0,l.kt)("inlineCode",{parentName:"p"},"x-"),"\u662f\u4e0d\u540c\u7684\uff0c\u5f8c\u8005\u662f\u6709\u53ef\u80fd\u88ab\u8a3b\u518a\u6210\u6a19\u6e96\u7684\u4e00\u90e8\u4efd"))),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Discussion")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u4f60\u6709\u7528\u904e\u975e\u6a19\u6e96\u7684 Content Type \u55ce\uff1f\u597d\u7528\u55ce\uff1fGithub \u70ba\u4ec0\u9ebc\u9019\u9ebc\u56de\u61c9\uff1f"),(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre"},"HTTP/1.1 200 OK\nServer: Github.com\nContent-Type: application/json; charset=utf-8\nX-GitHub-Media-Type: github.v3\n")))),(0,l.kt)("h3",{id:"request-\u7684-content-type"},"Request \u7684 Content Type"),(0,l.kt)("p",null,"Accept: \u6211\u80fd\u5920\u5403\u600e\u6a23\u7684 Response \u683c\u5f0f\nContent-Type: \u5ba3\u544a\u76ee\u524d\u50b3\u9001\u7684 payload \u662f\u600e\u6a23\u7684\u683c\u5f0f"),(0,l.kt)("h4",{id:"accept-header"},"Accept Header"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"q"),"\u53ef\u4ee5\u6307\u5b9a\u512a\u5148\u7d1a\uff0c\u6578\u5b57\u8d8a\u5927\u512a\u5148\u6b0a\u8d8a\u9ad8\uff0c\u9810\u8a2d\u662f\u6700\u9ad8",(0,l.kt)("inlineCode",{parentName:"li"},"1")),(0,l.kt)("li",{parentName:"ul"},"\u6240\u6709\u56de\u61c9\u683c\u5f0f\u90fd\u5403\u7684\u8a71\uff0c\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"li"},"*/*"))),(0,l.kt)("p",null,"\u7ffb\u8b6f\uff1a",(0,l.kt)("em",{parentName:"p"},"\u6211\u5403 html, xhtml\uff0c\u4f46\u5982\u679c\u90fd\u6c92\u6709\u7684\u8a71\uff0c\u4e5f\u53ef\u4ee5\u7d66\u6211 xml\uff0c\u518d\u6c92\u6709\u53ef\u4ee5\u7d66\u6211 webp\uff0c\u771f\u7684\u6c92\u8fa6\u6cd5\u5c31\u96a8\u4fbf\u5427")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Accept: text/html,application/xhtml+xml,application/xml;q=0.9;image/webp,*/*;q=0.8\n")),(0,l.kt)("p",null,"\u7ffb\u8b6f\uff1a",(0,l.kt)("em",{parentName:"p"},"\u6211\u5403 json\uff0c\u4f46\u6c92\u8fa6\u6cd5\u7684\u8a71 xml \u4e5f\u53ef\u4ee5")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Accept: application/json,application/xml;q=0.9\n")),(0,l.kt)("h4",{id:"vary-accept"},"Vary: Accept"),(0,l.kt)("p",null,"\u5728\u6709 API Gateway, Reversed Proxy \u5b58\u5728\u8acb\u6c42\u7aef\u8207\u4f3a\u670d\u7aef\u7684\u4e2d\u9593\u6642\uff0cAccept Header \u6709\u53ef\u80fd\u6703\u88ab\u6539\u8b8a\u3002"),(0,l.kt)("p",null,"\u6b64\u6642\u9700\u8981\u52a0\u4e0a",(0,l.kt)("inlineCode",{parentName:"p"},"Vary: Accept")," Header \u8981\u6c42 Gateway \u8f49\u4ea4 Accept Header \u6216\u505a\u9032\u4e00\u6b65\u8655\u7406"),(0,l.kt)("h2",{id:"45-origin-policy-\u8207-cors-\u8cc7\u6e90\u5171\u4eab"},"4.5 Origin Policy \u8207 CORS \u8cc7\u6e90\u5171\u4eab"),(0,l.kt)("h2",{id:"46-\u5b9a\u7fa9\u79c1\u6709\u7684-http-header"},"4.6 \u5b9a\u7fa9\u79c1\u6709\u7684 HTTP Header"),(0,l.kt)("h2",{id:"47-\u5c0f\u7d50"},"4.7 \u5c0f\u7d50"))}s.isMDXComponent=!0},1718:function(t,e,a){e.Z=a.p+"assets/images/http_request_message_format-da749205ab80249c98c6e2a892a7b01b.png"},6506:function(t,e,a){e.Z=a.p+"assets/images/http_response_message_format-1371b22bf2adecfce111172b1593c7f8.png"}}]);