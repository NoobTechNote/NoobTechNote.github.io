"use strict";(self.webpackChunknoobtechnote_github_io_source=self.webpackChunknoobtechnote_github_io_source||[]).push([[6632],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>d});var l=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t){if(null==e)return{};var a,l,n=function(e,t){if(null==e)return{};var a,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var o=l.createContext({}),p=function(e){var t=l.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=p(e.components);return l.createElement(o.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},k=l.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,o=e.parentName,s=u(e,["components","mdxType","originalType","parentName"]),c=p(a),k=n,d=c["".concat(o,".").concat(k)]||c[k]||m[k]||r;return a?l.createElement(d,i(i({ref:t},s),{},{components:a})):l.createElement(d,i({ref:t},s))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,i=new Array(r);i[0]=k;var u={};for(var o in t)hasOwnProperty.call(t,o)&&(u[o]=t[o]);u.originalType=e,u[c]="string"==typeof e?e:n,i[1]=u;for(var p=2;p<r;p++)i[p]=a[p];return l.createElement.apply(null,i)}return l.createElement.apply(null,a)}k.displayName="MDXCreateElement"},85162:(e,t,a)=>{a.d(t,{Z:()=>i});var l=a(67294),n=a(86010);const r={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:a,className:i}=e;return l.createElement("div",{role:"tabpanel",className:(0,n.Z)(r.tabItem,i),hidden:a},t)}},74866:(e,t,a)=>{a.d(t,{Z:()=>y});var l=a(87462),n=a(67294),r=a(86010),i=a(12466),u=a(16550),o=a(91980),p=a(67392),s=a(50012);function c(e){return function(e){return n.Children.map(e,(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:l,default:n}}=e;return{value:t,label:a,attributes:l,default:n}}))}function m(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=t??c(a);return function(e){const t=(0,p.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function k(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function d(e){let{queryString:t=!1,groupId:a}=e;const l=(0,u.k6)(),r=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,o._X)(r),(0,n.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(l.location.search);t.set(r,e),l.replace({...l.location,search:t.toString()})}),[r,l])]}function h(e){const{defaultValue:t,queryString:a=!1,groupId:l}=e,r=m(e),[i,u]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!k({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const l=a.find((e=>e.default))??a[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:t,tabValues:r}))),[o,p]=d({queryString:a,groupId:l}),[c,h]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[l,r]=(0,s.Nk)(a);return[l,(0,n.useCallback)((e=>{a&&r.set(e)}),[a,r])]}({groupId:l}),g=(()=>{const e=o??c;return k({value:e,tabValues:r})?e:null})();(0,n.useLayoutEffect)((()=>{g&&u(g)}),[g]);return{selectedValue:i,selectValue:(0,n.useCallback)((e=>{if(!k({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);u(e),p(e),h(e)}),[p,h,r]),tabValues:r}}var g=a(72389);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function f(e){let{className:t,block:a,selectedValue:u,selectValue:o,tabValues:p}=e;const s=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.o5)(),m=e=>{const t=e.currentTarget,a=s.indexOf(t),l=p[a].value;l!==u&&(c(t),o(l))},k=e=>{let t=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const a=s.indexOf(e.currentTarget)+1;t=s[a]??s[0];break}case"ArrowLeft":{const a=s.indexOf(e.currentTarget)-1;t=s[a]??s[s.length-1];break}}t?.focus()};return n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":a},t)},p.map((e=>{let{value:t,label:a,attributes:i}=e;return n.createElement("li",(0,l.Z)({role:"tab",tabIndex:u===t?0:-1,"aria-selected":u===t,key:t,ref:e=>s.push(e),onKeyDown:k,onClick:m},i,{className:(0,r.Z)("tabs__item",b.tabItem,i?.className,{"tabs__item--active":u===t})}),a??t)})))}function N(e){let{lazy:t,children:a,selectedValue:l}=e;const r=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===l));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return n.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==l}))))}function v(e){const t=h(e);return n.createElement("div",{className:(0,r.Z)("tabs-container",b.tabList)},n.createElement(f,(0,l.Z)({},e,t)),n.createElement(N,(0,l.Z)({},e,t)))}function y(e){const t=(0,g.Z)();return n.createElement(v,(0,l.Z)({key:String(t)},e))}},89913:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>u,toc:()=>p});var l=a(87462),n=(a(67294),a(3905));a(74866),a(85162);const r={title:"Ch10: \u53ef\u89c0\u6e2c\u6027",tsidebar_label:"Ch10: \u53ef\u89c0\u6e2c\u6027",sidebar_position:10},i=void 0,u={unversionedId:"sg/fenix-architecture/ch10",id:"sg/fenix-architecture/ch10",title:"Ch10: \u53ef\u89c0\u6e2c\u6027",description:"\u53ef\u89c0\u6e2c\u6027(Observability)",source:"@site/docs/sg/fenix-architecture/ch10.mdx",sourceDirName:"sg/fenix-architecture",slug:"/sg/fenix-architecture/ch10",permalink:"/docs/sg/fenix-architecture/ch10",draft:!1,editUrl:"https://github.com/NoobTechNote/NoobTechNote.github.io/tree/main/docs/sg/fenix-architecture/ch10.mdx",tags:[],version:"current",lastUpdatedBy:"LuPeter",lastUpdatedAt:1691944305,formattedLastUpdatedAt:"Aug 13, 2023",sidebarPosition:10,frontMatter:{title:"Ch10: \u53ef\u89c0\u6e2c\u6027",tsidebar_label:"Ch10: \u53ef\u89c0\u6e2c\u6027",sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Ch9: \u53ef\u9760\u901a\u4fe1",permalink:"/docs/sg/fenix-architecture/ch9"},next:{title:"Ch11: \u865b\u64ec\u5316\u5bb9\u5668",permalink:"/docs/sg/fenix-architecture/ch11"}},o={},p=[{value:"\u53ef\u89c0\u6e2c\u6027(Observability)",id:"\u53ef\u89c0\u6e2c\u6027observability",level:2},{value:"API \u53ef\u89c0\u5bdf\u6027\u6536\u96c6\u548c\u5206\u6790 API \u6d41\u91cf\u7684\u5be6\u6642\u6d41\u91cf\u6578\u64da\uff0c\u4ee5\u76e3\u63a7\u771f\u5be6\u7684\u5ba2\u6236\u6578\u64da\u800c\u4e0d\u662f\u865b\u5047\u6578\u64da\u3002",id:"api-\u53ef\u89c0\u5bdf\u6027\u6536\u96c6\u548c\u5206\u6790-api-\u6d41\u91cf\u7684\u5be6\u6642\u6d41\u91cf\u6578\u64da\u4ee5\u76e3\u63a7\u771f\u5be6\u7684\u5ba2\u6236\u6578\u64da\u800c\u4e0d\u662f\u865b\u5047\u6578\u64da",level:4},{value:"\u4f7f\u7528 API \u53ef\u89c0\u5bdf\u6027\u6280\u8853\u5c07\u4f7f\u60a8\u80fd\u5920\u5f9e\u6574\u500b\u7cfb\u7d71\u4e2d\u7372\u53d6\u6578\u64da\uff0c\u9019\u8207\u9ed1\u76d2\u76e3\u63a7\u4e0d\u540c\u3002",id:"\u4f7f\u7528-api-\u53ef\u89c0\u5bdf\u6027\u6280\u8853\u5c07\u4f7f\u60a8\u80fd\u5920\u5f9e\u6574\u500b\u7cfb\u7d71\u4e2d\u7372\u53d6\u6578\u64da\u9019\u8207\u9ed1\u76d2\u76e3\u63a7\u4e0d\u540c",level:4},{value:"\u53ef\u89c0\u6e2c\u6027 (Observability) \u4e09\u5927\u652f\u67f1",id:"\u53ef\u89c0\u6e2c\u6027-observability-\u4e09\u5927\u652f\u67f1",level:3},{value:"\u65e5\u8a8c (Logging)",id:"\u65e5\u8a8c-logging",level:3},{value:"\u8ffd\u8e2a (Tracing)",id:"\u8ffd\u8e2a-tracing",level:3},{value:"\u6307\u6a19 (Metrics)",id:"\u6307\u6a19-metrics",level:3},{value:"\u65e5\u8a8c\u3001\u6307\u6a19\u548c\u8ffd\u8e2a\u662f\u76f8\u4e92\u95dc\u806f\u7684",id:"\u65e5\u8a8c\u6307\u6a19\u548c\u8ffd\u8e2a\u662f\u76f8\u4e92\u95dc\u806f\u7684",level:3},{value:"\u4e8b\u4ef6\u65e5\u5fd7",id:"\u4e8b\u4ef6\u65e5\u5fd7",level:2},{value:"\u8f38\u51fa",id:"\u8f38\u51fa",level:3},{value:"\u4e0d\u61c9\u8a72\u6709\u7684\u8cc7\u8a0a\uff1a",id:"\u4e0d\u61c9\u8a72\u6709\u7684\u8cc7\u8a0a",level:4},{value:"\u61c9\u8a72\u6709\u7684\u8cc7\u8a0a\uff1a",id:"\u61c9\u8a72\u6709\u7684\u8cc7\u8a0a",level:4},{value:"\u6536\u96c6\u8207\u7de9\u885d",id:"\u6536\u96c6\u8207\u7de9\u885d",level:3},{value:"\u52a0\u5de5\u8207\u805a\u5408",id:"\u52a0\u5de5\u8207\u805a\u5408",level:3},{value:"\u5b58\u5132\u8207\u67e5\u8a62",id:"\u5b58\u5132\u8207\u67e5\u8a62",level:3},{value:"\u93c8\u8def\u8ffd\u8e2a(TracingAnalysis)",id:"\u93c8\u8def\u8ffd\u8e2atracinganalysis",level:2},{value:"\u8ffd\u8e2a\u8207\u8de8\u5ea6",id:"\u8ffd\u8e2a\u8207\u8de8\u5ea6",level:2},{value:"\u8ffd\u8e2a(Tracing)",id:"\u8ffd\u8e2atracing",level:4},{value:"\u8de8\u5ea6(Span)",id:"\u8de8\u5ea6span",level:4},{value:"\u9069\u7528\u5834\u666f",id:"\u9069\u7528\u5834\u666f",level:4},{value:"\u6578\u64da\u6536\u96c6",id:"\u6578\u64da\u6536\u96c6",level:3},{value:"\u57fa\u65bc\u65e5\u8a8c\u7684\u8ffd\u8e2a(Log-Based Tracing)",id:"\u57fa\u65bc\u65e5\u8a8c\u7684\u8ffd\u8e2alog-based-tracing",level:4},{value:"\u57fa\u65bc\u670d\u52d9\u7684\u8ffd\u8e2a(Service-Based Tracing)",id:"\u57fa\u65bc\u670d\u52d9\u7684\u8ffd\u8e2aservice-based-tracing",level:4},{value:"Jaeger Tracing Architecture",id:"jaeger-tracing-architecture",level:4},{value:"\u57fa\u65bc\u908a\u8eca\u4ee3\u7406\u7684\u8ffd\u8e2a(Sidecar-Based Tracing)",id:"\u57fa\u65bc\u908a\u8eca\u4ee3\u7406\u7684\u8ffd\u8e2asidecar-based-tracing",level:4},{value:"\u8ffd\u8e2a\u898f\u7bc4\u3002\u4ec0\u9ebc\u662f OpenTelemetry\uff1f",id:"\u8ffd\u8e2a\u898f\u7bc4\u4ec0\u9ebc\u662f-opentelemetry",level:3},{value:"\u805a\u5408\u5ea6\u91cf(Metrics)",id:"\u805a\u5408\u5ea6\u91cfmetrics",level:2},{value:"\u6307\u6a19\u6536\u96c6",id:"\u6307\u6a19\u6536\u96c6",level:3},{value:"\u5982\u4f55\u5c07\u9019\u4e9b\u6307\u6a19\u544a\u8a34\u670d\u52d9\u7aef",id:"\u5982\u4f55\u5c07\u9019\u4e9b\u6307\u6a19\u544a\u8a34\u670d\u52d9\u7aef",level:4},{value:"\u5b58\u5132\u67e5\u8a62",id:"\u5b58\u5132\u67e5\u8a62",level:4},{value:"\u76e3\u63a7\u9810\u8b66",id:"\u76e3\u63a7\u9810\u8b66",level:4}],s={toc:p},c="wrapper";function m(e){let{components:t,...r}=e;return(0,n.kt)(c,(0,l.Z)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"\u53ef\u89c0\u6e2c\u6027observability"},"\u53ef\u89c0\u6e2c\u6027(Observability)"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"issue-img",src:a(63820).Z,width:"2232",height:"968"}))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u524d\u8a00\uff1a\u67d0\u5c08\u6848\u5f8c\u7aef\u7528 AWS Lambda + python , client \u7aef\u7528 iOS , Android\u3002\n\u5e38\u5e38 JSON payload \u50b3\u932f\u5c0e\u81f4 crash \u6216 API response \u90fd\u597d\u5e7e\u79d2\uff0cNews List \u9801\u9762\u8981\u7b49 6 \u79d2\uff0c\n\u7e3d\u4e0d\u53ef\u80fd\u6bcf\u5929\u624b\u52d5\u6ed1 APP \u505a test\uff0c\u770b GA \u5206\u6790 user \u6eef\u7559\u6642\u9593\u51fa\u5947\u7684\u4f4e!!!\n\u524d\u7aef\u7576\u4f5c\u9664\u932f\u5de5\u5177\uff0c\u6211\u5728\u60f3\u6709\u66f4\u597d\u7684\u65b9\u5f0f\u89e3\u6c7a?"),(0,n.kt)("p",{parentName:"blockquote"},"\u5c31\u4f86\u8b1b\u5230\u4eca\u5929\u4e3b\u984c")),(0,n.kt)("admonition",{title:"What Is API Observability?",type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"API \u53ef\u89c0\u5bdf\u6027\u662f\u6307\u901a\u904e API \u767c\u51fa\u7684\u4fe1\u865f\u53ef\u4ee5\u7406\u89e3 API \u5167\u90e8\u72c0\u614b\u7684\u7a0b\u5ea6\u3002\n\u5e6b\u52a9\u5718\u968a\u76e3\u63a7\u5176 API \u6027\u80fd\u3001\u89e3\u6c7a\u554f\u984c\u3001\u4e86\u89e3\u696d\u52d9\u908f\u8f2f\u8cbc\u8fd1\u5e02\u5834\u9700\u6c42\u548c\u8fa8\u8b58\u6548\u80fd\u512a\u5316\u65b9\u5411\u3002")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"What Is API Observability?"),(0,n.kt)("p",null,(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u771f\u5be6\u7528\u6236\u6578\u64da")),(0,n.kt)("h4",{id:"api-\u53ef\u89c0\u5bdf\u6027\u6536\u96c6\u548c\u5206\u6790-api-\u6d41\u91cf\u7684\u5be6\u6642\u6d41\u91cf\u6578\u64da\u4ee5\u76e3\u63a7\u771f\u5be6\u7684\u5ba2\u6236\u6578\u64da\u800c\u4e0d\u662f\u865b\u5047\u6578\u64da"},"API \u53ef\u89c0\u5bdf\u6027\u6536\u96c6\u548c\u5206\u6790 API \u6d41\u91cf\u7684\u5be6\u6642\u6d41\u91cf\u6578\u64da\uff0c\u4ee5\u76e3\u63a7\u771f\u5be6\u7684\u5ba2\u6236\u6578\u64da\u800c\u4e0d\u662f\u865b\u5047\u6578\u64da\u3002"),(0,n.kt)("p",null,"\u901a\u904e\u9019\u6a23\u505a\uff0c\u60a8\u53ef\u4ee5\u78ba\u4fdd\u60a8\u7684\u76e3\u63a7\u8207\u5ba2\u6236\u9047\u5230\u7684\u60c5\u6cc1\u4e00\u81f4\uff0c\u5f9e\u800c\u589e\u52a0\u60a8\u5728\u554f\u984c\u5c0d\u5ba2\u6236\u7522\u751f\u91cd\u5927\u5f71\u97ff\u4e4b\u524d\u767c\u73fe\u554f\u984c\u7684\u53ef\u80fd\u6027\u3002"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u7cfb\u7d71\u6578\u64da\u8abf\u8a66")),(0,n.kt)("h4",{id:"\u4f7f\u7528-api-\u53ef\u89c0\u5bdf\u6027\u6280\u8853\u5c07\u4f7f\u60a8\u80fd\u5920\u5f9e\u6574\u500b\u7cfb\u7d71\u4e2d\u7372\u53d6\u6578\u64da\u9019\u8207\u9ed1\u76d2\u76e3\u63a7\u4e0d\u540c"},"\u4f7f\u7528 API \u53ef\u89c0\u5bdf\u6027\u6280\u8853\u5c07\u4f7f\u60a8\u80fd\u5920\u5f9e\u6574\u500b\u7cfb\u7d71\u4e2d\u7372\u53d6\u6578\u64da\uff0c\u9019\u8207\u9ed1\u76d2\u76e3\u63a7\u4e0d\u540c\u3002"),(0,n.kt)("p",null,"\u4f8b\u5982\uff0c\u7576\u767c\u751f\u932f\u8aa4\u6642\uff0c\u53ef\u4ee5\u63d0\u4f9b\u6bd4\u7c21\u55ae\u7684 API \u97ff\u61c9\u5feb\u7167\u66f4\u591a\u7684\u8cc7\u8a0a\u3002\u9019\u610f\u5473\u8457\u4f7f\u7528 API \u53ef\u89c0\u5bdf\u6027\u5de5\u5177\uff0c\u60a8\u7684\u5de5\u7a0b\u5e2b\u5c07\u80fd\u5920\u66f4\u5feb\u5730\u89e3\u6c7a\u554f\u984c\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"API-observability",src:a(6558).Z,width:"1600",height:"185"})))),(0,n.kt)("h3",{id:"\u53ef\u89c0\u6e2c\u6027-observability-\u4e09\u5927\u652f\u67f1"},"\u53ef\u89c0\u6e2c\u6027 (Observability) \u4e09\u5927\u652f\u67f1"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u65e5\u8a8c(Logging)"),(0,n.kt)("li",{parentName:"ul"},"\u8ffd\u8e2a(Tracing)"),(0,n.kt)("li",{parentName:"ul"},"\u6307\u6a19(Metrics)")),(0,n.kt)("h3",{id:"\u65e5\u8a8c-logging"},"\u65e5\u8a8c (Logging)"),(0,n.kt)("p",null,"\u65e5\u8a8c\u662f\u5728\u4efb\u4f55\u670d\u52d9\u5668\u3001\u64cd\u4f5c\u7cfb\u7d71\u6216\u61c9\u7528\u7a0b\u5e8f\u4e2d\u89c0\u5bdf\u5230\u7684\u6d3b\u52d5\u7684\u8a18\u9304\u3002"),(0,n.kt)("p",null,"\u901a\u5e38\uff0c\u65e5\u8a8c\u6587\u4ef6\u5305\u542b\u8207\u5728\u670d\u52d9\u5668\u4e2d\u89c0\u5bdf\u5230\u7684\u5c0f\u6d3b\u52d5\u76f8\u95dc\u7684\n\u6240\u6709\u8a73\u7d30\u8cc7\u8a0a\u3002\u5b83\u5011\u53ef\u4ee5\u662f\u7d50\u69cb\u5316\u6216\u975e\u7d50\u69cb\u5316\u7684\u4ee3\u78bc\u884c\uff0c\u5176\u4e2d\u5305\u542b\u60a8\u8981\u67e5\u627e\u7684\u6240\u6709\u8a73\u7d30\u8cc7\u8a0a\u3002"),(0,n.kt)("p",null,"\u65e5\u8a8c\u8a18\u9304\u662f\u8a18\u9304\u60a8\u7684\u64cd\u4f5c\u7684\u904e\u7a0b\u3002\u5b83\u4e0d\u9700\u8981\u4efb\u4f55\u4eba\u5de5\u5354\u52a9\uff0c\u56e0\u70ba\u8a72\u904e\u7a0b\u662f\u81ea\u52d5\u4e14\u81ea\u767c\u7684\u3002"),(0,n.kt)("p",null,"\u9996\u9078\u65e5\u8a8c\u4f86\u89c0\u5bdf\u7cfb\u7d71\u7684\u539f\u56e0\u662f\uff0c"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6240\u6709\u7cfb\u7d71\u90fd\u6709\u65e5\u8a8c\uff0c\u904e\u7a0b\u4e0d\u9700\u8981\u4efb\u4f55\u624b\u52d5\u64cd\u4f5c\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u51fa\u73fe\u932f\u8aa4\uff0c\u65e5\u8a8c\u5c07\u5305\u542b\u8207\u554f\u984c\u76f8\u95dc\u7684\u6545\u969c\u7684\u6240\u6709\u8a73\u7d30\u8cc7\u8a0a\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u8981\u5c0d\u7cfb\u7d71\u9032\u884c\u6545\u969c\u6392\u9664\u6216\u8abf\u8a66\uff0c\u6aa2\u67e5\u8a18\u9304\u7684\u65e5\u8a8c\u6587\u4ef6\u5c31\u8db3\u5920\u4e86\u3002")),(0,n.kt)("p",null,"\u65e5\u8a8c\u53ef\u89c0\u5bdf\u6027\u4e5f\u6709\u4e00\u500b\u5fc5\u9808\u6ce8\u610f\u7684\u9650\u5236\uff0c"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e0d\u6ce8\u610f\u65e5\u8a8c\u6587\u4ef6\uff0c\u53ef\u80fd\u6703\u5c0e\u81f4\u8a18\u9304\u5931\u6557\uff0c\u4e26\u4e14\u7121\u6cd5\u6b63\u78ba\u4fdd\u5b58\u6536\u96c6\u7684\u6578\u64da\u3002")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Logs-vs-traces"),(0,n.kt)("p",null,(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Logs-vs-traces-red",src:a(74620).Z,width:"1142",height:"856"}),"\n",(0,n.kt)("a",{parentName:"p",href:"https://www.aspecto.io/blog/logging-vs-tracing-why-logs-arent-enough-to-debug-your-microservices/"},"Ref")))),(0,n.kt)("h3",{id:"\u8ffd\u8e2a-tracing"},"\u8ffd\u8e2a (Tracing)"),(0,n.kt)("p",null,"\u4e00\u7a2e\u5b8c\u5168\u4e0d\u540c\u7684\u6578\u64da\u4ee5\u8ecc\u8de1\u7684\u5f62\u5f0f\u5b58\u5132\u3002"),(0,n.kt)("p",null,"Tracing \u662f\u4e00\u7a2e\u6d41\u52d5\u5f62\u5f0f\uff0c\u901a\u904e\u5b83\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u770b\u5230\u548c\u5206\u6790\u6d3b\u52d5\u80cc\u5f8c\u7684\u6574\u500b\u6b77\u53f2\u3002"),(0,n.kt)("p",null,"\u7531\u65bc\u53ef\u4ee5\u8a18\u9304\u7cfb\u7d71\u7684\u6574\u500b\u6846\u67b6\uff0c\u56e0\u6b64\u8ffd\u8e2a\u88ab\u5ee3\u6cdb\u7528\u65bc\u78ba\u5b9a\u53ef\u89c0\u5bdf\u6027\u3002\u901a\u904e Tracing \u7684\u5177\u9ad4\u9ede\uff0c\u60a8\u53ef\u4ee5\u8b58\u5225\u4e26\u7cfe\u6b63\u932f\u8aa4\u3002"),(0,n.kt)("p",null,"\u512a\u9ede:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u4ee5\u8a9e\u7fa9\u7684\u5f62\u5f0f\u8a18\u9304\u548c\u6536\u96c6\u6578\u64da\uff0c\u4ee5\u4fbf\u66f4\u597d\u5730\u7406\u89e3\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u6536\u96c6\u7684\u6578\u64da\u70ba\u60a8\u7684\u554f\u984c\u63d0\u4f9b\u4e86\u6e96\u78ba\u7684\u7b54\u6848\u3002")),(0,n.kt)("p",null,"\u7f3a\u9ede:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Tracing \u6709\u6642\u53ef\u80fd\u6703\u6709\u9593\u9699\uff0c\u9019\u6703\u4f7f\u8abf\u8a66\u548c\u6545\u969c\u6392\u9664\u8b8a\u5f97\u66f4\u52a0\u56f0\u96e3\u3002")),(0,n.kt)("h3",{id:"\u6307\u6a19-metrics"},"\u6307\u6a19 (Metrics)"),(0,n.kt)("p",null,"\u6578\u64da\u6536\u96c6\u53ef\u4ee5\u901a\u904e\u591a\u7a2e\u65b9\u5f0f\u5b8c\u6210\uff0c\u5176\u4e2d\u4e00\u7a2e\u65b9\u6cd5\u662f\u4f7f\u7528\u6307\u6a19\u3002"),(0,n.kt)("p",null,"\u6307\u6a19\u662f\u4e00\u7a2e\u6578\u5b57\u6578\u64da\u5f62\u5f0f\uff0c\u4ee5\u96e2\u6563\u503c\u7684\u5f62\u5f0f\u5b58\u5132\uff0c\u6709\u52a9\u65bc\u5feb\u901f\u8b58\u5225\u554f\u984c\u3002"),(0,n.kt)("p",null,"\u4e00\u822c\u4f86\u8aaa\uff0c\u7d66\u51fa\u898f\u5f8b\u6642\u9593\u9593\u9694\u884c\u70ba\u8cc7\u8a0a\u7684\u662f\u6578\u5b78\u6578\u64da\u3002\u6578\u64da\u53ef\u4ee5\u4ee5\u5716\u8868\u7684\u5f62\u5f0f\u6a19\u8a3b\uff0c\u4fbf\u65bc\u8ffd\u8e2a\u7cfb\u7d71\u7684\u9ad8\u9ede\u548c\u4f4e\u9ede\u3002"),(0,n.kt)("p",null,"\u6307\u6a19\u7684\u4f7f\u7528\u4e00\u822c\u7528\u65bc\u696d\u52d9\u548c\u7d71\u8a08\u76f8\u95dc\u8cc7\u8a0a\uff0c\u4ee5\u8ffd\u8e2a\u983b\u7387\u3002"),(0,n.kt)("p",null,"\u512a\u9ede:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6578\u64da\u7684\u53ef\u8996\u5316\u66f4\u5bb9\u6613\uff0c\u4e26\u4e14\u53ef\u4ee5\u5feb\u901f\u5206\u6790\u6578\u64da\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u7bc0\u7701\u6642\u9593\uff0c\u56e0\u70ba\u70ba\u60a8\u63d0\u4f9b\u4e86\u6e05\u6670\u8a73\u7d30\u7684\u50f9\u503c\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u8207\u65e5\u8a8c\u76f8\u6bd4\uff0c\u516c\u5236\u7cfb\u7d71\u7684\u8907\u96dc\u6027\u8f03\u5c0f\u3002")),(0,n.kt)("p",null,"\u7f3a\u9ede:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6307\u6a19\u6578\u64da\u53ea\u6709\u5728\u9054\u5230\u95be\u503c\u6642\u624d\u6703\u901a\u77e5\u6545\u969c\u6392\u9664\u3002")),(0,n.kt)("h3",{id:"\u65e5\u8a8c\u6307\u6a19\u548c\u8ffd\u8e2a\u662f\u76f8\u4e92\u95dc\u806f\u7684"},"\u65e5\u8a8c\u3001\u6307\u6a19\u548c\u8ffd\u8e2a\u662f\u76f8\u4e92\u95dc\u806f\u7684"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"LoggingTracingMetrics",src:a(2380).Z,width:"613",height:"400"}))),(0,n.kt)("h2",{id:"\u4e8b\u4ef6\u65e5\u5fd7"},"\u4e8b\u4ef6\u65e5\u5fd7"),(0,n.kt)("p",null,"\u65e5\u8a8c\u7528\u4f86\u8a18\u9304\u7cfb\u7d71\u904b\u884c\u671f\u9593\u767c\u751f\u904e\u7684\u96e2\u6563\u4e8b\u4ef6\u3002\nprint log \u5f88\u7c21\u55ae\uff0c\u5728\u5206\u6563\u5f0f\u7cfb\u7d71\uff0c\u5c31\u5f88\u96e3\u53ea\u4f9d\u9760 tail\u3001grep\u3001awk \u4f86\u5f9e\u65e5\u8a8c\u4e2d\u6316\u6398\u8cc7\u8a0a\u4e86\uff0c\n\u5f80\u5f80\u9084\u8981\u6709\u5c08\u9580\u7684\u5168\u5c40\u67e5\u8a62\u548c\u53ef\u8996\u5316\u529f\u80fd\u3002\u6b64\u6642\uff0c\u5f9e\u6253\u5370\u65e5\u8a8c\u5230\u5206\u6790\u67e5\u8a62\u4e4b\u9593\uff0c\n\u9084\u9694\u8457\u6536\u96c6\u3001\u7de9\u885d\u3001\u805a\u5408\u3001\u52a0\u5de5\u3001\u7d22\u5f15\u3001\u5b58\u5132\u7b49\u82e5\u5e72\u500b\u6b65\u9a5f\u3002\nElastic Stack \u6280\u8853\u68e7\u4f86\u8aaa"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"LoggingProcessing",src:a(89250).Z,width:"867",height:"164"}))),(0,n.kt)("h3",{id:"\u8f38\u51fa"},"\u8f38\u51fa"),(0,n.kt)("h4",{id:"\u4e0d\u61c9\u8a72\u6709\u7684\u8cc7\u8a0a"},"\u4e0d\u61c9\u8a72\u6709\u7684\u8cc7\u8a0a\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u907f\u514d\u6253\u5370\u654f\u611f\u8cc7\u8a0a:")),(0,n.kt)("p",null,"\u4e0d\u8a72\u5c07\u5bc6\u78bc\uff0c\u9280\u884c\u8cec\u865f\uff0c\u8eab\u4efd\u8b49\u4ef6\u9019\u4e9b\u654f\u611f\u8cc7\u8a0a\u6253\u5230\u65e5\u8a8c\u88e1\u3002\u500b\u8cc7\u5916\u6d29\uff01\uff01\uff01"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u907f\u514d\u5f15\u7528\u6162\u64cd\u4f5c:")),(0,n.kt)("p",null,"\u65e5\u8a8c\u4e2d\u6253\u5370\u7684\u8cc7\u8a0a\u61c9\u8a72\u662f\u4e0a\u4e0b\u6587\u4e2d\u53ef\u4ee5\u76f4\u63a5\u53d6\u5230\u7684\uff0c\u5982\u679c\u7576\u524d\u4e0a\u4e0b\u6587\u4e2d\u6839\u672c\u6c92\u6709\u9019\u9805\u6578\u64da\uff0c\n\u9700\u8981\u5c08\u9580\u8abf\u7528\u9060\u7a0b\u670d\u52d9\u6216\u8005\u5f9e\u6578\u64da\u5eab\u7372\u53d6\uff0c\u53c8\u6216\u8005\u901a\u904e\u5927\u91cf\u8a08\u7b97\u624d\u80fd\u53d6\u5230\u7684\u8a71\uff0c\u90a3\u61c9\u8a72\u5148\u8003\u616e\u9019\u9805\u8cc7\u8a0a\u653e\u5230\u65e5\u8a8c\u4e2d\u662f\u4e0d\u662f\u5fc5\u8981\u4e14\u6070\u7576\u7684\u3002"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u907f\u514d\u6253\u5370\u8ffd\u8e2a\u8a3a\u65b7\u8cc7\u8a0a:")),(0,n.kt)("p",null,"\u65e5\u8a8c\u4e2d\u4e0d\u8981\u6253\u5370\u65b9\u6cd5\u8f38\u5165\u53c3\u6578\u3001\u8f38\u51fa\u7d50\u679c\u3001\u65b9\u6cd5\u57f7\u884c\u6642\u9577\u4e4b\u985e\u7684\u8abf\u8a66\u8cc7\u8a0a\u3002"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u907f\u514d\u8aa4\u5c0e\u4ed6\u4eba:")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://blog.51cto.com/u_15127511/3436116"},"JAVA \u4e2d\u4e0d\u8981\u7528 e.printStackTrace()"),"\uff0ce.printStackTrace() \u8a9e\u53e5\u8981\u7522\u751f\u7684\u5b57\u7b26\u4e32\u8a18\u9304\u7684\u662f\u5806\u68e7\u8cc7\u8a0a\uff0c\u592a\u9577\u592a\u591a\uff0cmemory \u88ab\u586b\u6eff\u4e86\uff01"),(0,n.kt)("h4",{id:"\u61c9\u8a72\u6709\u7684\u8cc7\u8a0a"},"\u61c9\u8a72\u6709\u7684\u8cc7\u8a0a\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u8655\u7406\u8acb\u6c42\u6642\u7684 TraceID\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u7cfb\u7d71\u904b\u884c\u904e\u7a0b\u4e2d\u7684\u95dc\u9375\u4e8b\u4ef6\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u555f\u52d5\u6642\u8f38\u51fa\u7cfb\u7d71\u8cc7\u8a0a\u3002\n",(0,n.kt)("img",{alt:"System-Information",src:a(87204).Z,width:"795",height:"276"}))),(0,n.kt)("h3",{id:"\u6536\u96c6\u8207\u7de9\u885d"},"\u6536\u96c6\u8207\u7de9\u885d"),(0,n.kt)("p",null,"Beats \u662f\u7528 Go \u7de8\u5beb\u7684\u8f15\u91cf\u7d1a\u6578\u64da\u50b3\u8f38\u5668\uff0c\u4f60\u53ef\u4ee5\u628a\u5b83\u5b89\u88dd\u5728\u4f60\u7684\u670d\u52d9\u5668\u4e0a\uff0c\u4ee5\u6355\u7372\u5404\u7a2e\u64cd\u4f5c\u6578\u64da\n\uff08\u5982\u65e5\u8a8c\u3001\u6307\u6a19\u6216\u7db2\u7d61\u5305\u6578\u64da\uff09\u3002 Beats \u5c07\u64cd\u4f5c\u6578\u64da\u76f4\u63a5\u6216\u901a\u904e Logstash \u767c\u9001\u5230 Elasticsearch\uff0c\n\u56e0\u6b64\u53ef\u4ee5\u7528 Kibana \u9032\u884c\u53ef\u8996\u5316\u3002"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Beat"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/elastic/beats/tree/main/auditbeat"},"Auditbeat")),(0,n.kt)("td",{parentName:"tr",align:null},"Collect your Linux audit framework data and monitor the integrity of your files.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/elastic/beats/tree/main/filebeat"},"Filebeat")),(0,n.kt)("td",{parentName:"tr",align:null},"Tails and ships log files")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/elastic/beats/tree/main/x-pack/functionbeat"},"Functionbeat")),(0,n.kt)("td",{parentName:"tr",align:null},"Read and ships events from serverless infrastructure.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/elastic/beats/tree/main/heartbeat"},"Heartbeat")),(0,n.kt)("td",{parentName:"tr",align:null},"Ping remote services for availability")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/elastic/beats/tree/main/metricbeat"},"Metricbeat")),(0,n.kt)("td",{parentName:"tr",align:null},"Fetches sets of metrics from the operating system and services")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/elastic/beats/tree/main/packetbeat"},"Packetbeat")),(0,n.kt)("td",{parentName:"tr",align:null},"Monitors the network and applications by sniffing packets")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/elastic/beats/tree/main/winlogbeat"},"Winlogbeat")),(0,n.kt)("td",{parentName:"tr",align:null},"Fetches and ships Windows Event logs")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/elastic/beats/tree/main/x-pack/osquerybeat"},"Osquerybeat")),(0,n.kt)("td",{parentName:"tr",align:null},"Runs Osquery and manages interraction with it.")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u5728 Logstash \u4e4b\u524d\u67b6\u8a2d\u4e00\u500b Kafka \u6216\u8005 Redis \u4f5c\u70ba\u7de9\u885d\u5c64\uff0c\u9762\u5c0d\u9ad8\u6d41\u91cf\u3002")),(0,n.kt)("h3",{id:"\u52a0\u5de5\u8207\u805a\u5408"},"\u52a0\u5de5\u8207\u805a\u5408"),(0,n.kt)("p",null,"\u5c07\u65e5\u8a8c\u96c6\u4e2d\u6536\u96c6\u4e4b\u5f8c\uff0c\u5b58\u5165 Elasticsearch \u4e4b\u524d\uff0c\u4e00\u822c\u9084\u8981\u5c0d\u5b83\u5011\u9032\u884c\u52a0\u5de5\u8f49\u63db\u548c\u805a\u5408\u8655\u7406\u3002\n\u9019\u662f\u56e0\u70ba\u65e5\u8a8c\u662f\u975e\u7d50\u69cb\u5316\u6578\u64da\uff0c\u4e00\u884c\u65e5\u8a8c\u4e2d\u901a\u5e38\u6703\u5305\u542b\u591a\u9805\u8cc7\u8a0a\uff0c\u5982\u679c\u4e0d\u505a\u8655\u7406\uff0c\n\u90a3\u5728 Elasticsearch \u5c31\u53ea\u80fd\u4ee5\u5168\u6587\u6aa2\u7d22\u7684\u539f\u59cb\u65b9\u5f0f\u53bb\u4f7f\u7528\u65e5\u8a8c\uff0c\u65e2\u4e0d\u5229\u65bc\u7d71\u8a08\u5c0d\u6bd4\uff0c\u4e5f\u4e0d\u5229\u65bc\u689d\u4ef6\u904e\u6ffe\u3002\n\u8209\u500b\u5177\u9ad4\u4f8b\u5b50\uff0c\u4e0b\u9762\u662f\u4e00\u884c Nginx \u670d\u52d9\u5668\u7684 Access Log\uff0c\u4ee3\u8868\u4e86\u4e00\u6b21\u9801\u9762\u8a2a\u554f\u64cd\u4f5c\uff1a"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},'14.123.255.234 - - [19/Feb/2020:00:12:11 +0800] "GET /index.html HTTP/1.1" 200 1314 "https://icyfenix.cn" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36"\n')),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"\u6578\u64da\u9805"),(0,n.kt)("th",{parentName:"tr",align:null},"\u503c"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"IP \u5730\u5740"),(0,n.kt)("td",{parentName:"tr",align:null},"14.123.255.234")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"\u7528\u6236\u540d - -"),(0,n.kt)("td",{parentName:"tr",align:null},"\u7121\u6548\u7684")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u7684\u6642\u9593\u6233"),(0,n.kt)("td",{parentName:"tr",align:null},"19/\u4e8c\u6708/2020:00:12:11 +0800")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u7684\u65b9\u6cd5"),(0,n.kt)("td",{parentName:"tr",align:null},"\u5f97\u5230")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u7684 URL"),(0,n.kt)("td",{parentName:"tr",align:null},"/index.html")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"HTTP \u5354\u8b70\u7684\u7248\u672c\u865f"),(0,n.kt)("td",{parentName:"tr",align:null},"HTTP/1.1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"HTTP Status Code"),(0,n.kt)("td",{parentName:"tr",align:null},"200")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"\u4f3a\u670d\u5668\u56de\u61c9\u7684\u5167\u5bb9\u9577\u5ea6\uff0c1314 \u500b\u4f4d\u5143\u7d44"),(0,n.kt)("td",{parentName:"tr",align:null},"1314")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"\u8acb\u6c42\u7684\u4f86\u6e90\u7db2\u5740"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://www.cncf.io/"},"https://www.cncf.io/"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"\u767c\u9001\u8acb\u6c42\u7684\u7528\u6236\u7aef\u700f\u89bd\u5668\u7684 User-Agent\uff0c\u9019\u88e1\u8868\u793a\u4f7f\u7528\u7684\u662f Chrome \u700f\u89bd\u5668\u3002"),(0,n.kt)("td",{parentName:"tr",align:null},"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36")))),(0,n.kt)("p",null,"\u901a\u904e",(0,n.kt)("a",{parentName:"p",href:"https://doc.yonyoucloud.com/doc/logstash-best-practice-cn/filter/grok.html"},"Grok \u8868\u9054\u5f0f\u8a9e\u6cd5"),"\u8f49\u63db\u70ba\u4e0a\u9762\u8868\u683c\u90a3\u6a23\u7684\u7d50\u69cb\u5316\u6578\u64da"),(0,n.kt)("h3",{id:"\u5b58\u5132\u8207\u67e5\u8a62"},"\u5b58\u5132\u8207\u67e5\u8a62"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u5f9e\u6578\u64da\u7279\u5fb5\u7684\u89d2\u5ea6\u770b")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u5f9e\u6578\u64da\u50f9\u503c\u7684\u89d2\u5ea6\u770b")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u5f9e\u6578\u64da\u4f7f\u7528\u7684\u89d2\u5ea6\u770b"),(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"https://www.elastic.co/cn/kibana/"},"Kibana"),"\n",(0,n.kt)("img",{alt:"kibana-dashboard.jpeg",src:a(37859).Z,width:"1094",height:"616"})))),(0,n.kt)("h2",{id:"\u93c8\u8def\u8ffd\u8e2atracinganalysis"},"\u93c8\u8def\u8ffd\u8e2a(TracingAnalysis)"),(0,n.kt)("p",null,"\u5206\u4f48\u5f0f\u8ffd\u8e2a\u7cfb\u7d71\u7684\u8d77\u6e90\n",(0,n.kt)("a",{parentName:"p",href:"https://static.googleusercontent.com/media/research.google.com/zh-CN//archive/papers/dapper-2010-1.pdf"},"\u300aDapper\uff1aa Large-Scale Distributed Systems Tracing Infrastructure\u300b"),"\u8ad6\u6587\u3002"),(0,n.kt)("p",null,"\u4e00\u500b\u5b8c\u6574\u7684\u5206\u6563\u5f0f\u8ffd\u8e2a\u7cfb\u7d71\u7531\u6578\u64da\u6536\u96c6\u3001\u6578\u64da\u5b58\u5132\u548c\u6578\u64da\u5c55\u793a\u4e09\u500b\u76f8\u5c0d\u7368\u7acb\u7684\u5b50\u7cfb\u7d71\u7d44\u6210\uff0c\n\u800c\u93c8\u8def\u8ffd\u8e2a\u50c5\u6307\u6578\u64da\u6536\u96c6\u90e8\u5206\u3002\u8ffd\u8e2a\u7cfb\u7d71\u5e38\u88ab\u7a31\u70ba\u201cAPM \u7cfb\u7d71\u201d\uff08Application Performance Management\uff09\u3002"),(0,n.kt)("h2",{id:"\u8ffd\u8e2a\u8207\u8de8\u5ea6"},"\u8ffd\u8e2a\u8207\u8de8\u5ea6"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"TracingAndSpan",src:a(49468).Z,width:"647",height:"494"}))),(0,n.kt)("h4",{id:"\u8ffd\u8e2atracing"},"\u8ffd\u8e2a(Tracing)"),(0,n.kt)("p",null,"\u5f9e\u5ba2\u6236\u7aef\u767c\u8d77\u8acb\u6c42\u62b5\u9054\u7cfb\u7d71\u7684\u908a\u754c\u958b\u59cb\uff0c\u8a18\u9304\u8acb\u6c42\u6d41\u7d93\u7684\u6bcf\u4e00\u500b\u670d\u52d9\uff0c\u76f4\u5230\u5230\u5411\u5ba2\u6236\u7aef\u8fd4\u8ff4\u97ff\u61c9\u70ba\u6b62\uff0c\u9019\u6574\u500b\u904e\u7a0b\u3002"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"Tracing",src:a(22821).Z,width:"1934",height:"798"}))),(0,n.kt)("h4",{id:"\u8de8\u5ea6span"},"\u8de8\u5ea6(Span)"),(0,n.kt)("p",null,'\u7531\u65bc\u6bcf\u6b21 Trace \u90fd\u53ef\u80fd\u6703\u8abf\u7528\u6578\u91cf\u4e0d\u5b9a\u3001\u5750\u6a19\u4e0d\u5b9a\u7684\u591a\u500b\u670d\u52d9\uff0c\u70ba\u4e86\u80fd\u5920\u8a18\u9304\u5177\u9ad4\u8abf\u7528\u4e86\u54ea\u4e9b\u670d\u52d9\uff0c\u4ee5\u53ca\u8abf\u7528\u7684\u9806\u5e8f\u3001\n\u958b\u59cb\u6642\u9ede\u3001\u57f7\u884c\u6642\u9577\u7b49\u8cc7\u8a0a\uff0c\u6bcf\u6b21\u958b\u59cb\u8abf\u7528\u670d\u52d9\u524d\u90fd\u8981\u5148\u57cb\u5165\u4e00\u500b\u8abf\u7528\u8a18\u9304\uff0c\u9019\u500b\u8a18\u9304\u7a31\u70ba\u4e00\u500b"\u8de8\u5ea6"(Span)\u3002'),(0,n.kt)("h4",{id:"\u9069\u7528\u5834\u666f"},"\u9069\u7528\u5834\u666f"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u4f4e\u6027\u80fd\u640d\u8017\uff1a\u5206\u4f48\u5f0f\u8ffd\u8e2a\u4e0d\u80fd\u5c0d\u670d\u52d9\u672c\u8eab\u7522\u751f\u660e\u986f\u7684\u6027\u80fd\u8ca0\u64d4\u3002\u8ffd\u8e2a\u7684\u4e3b\u8981\u76ee\u7684\u4e4b\u4e00\u5c31\u662f\u70ba\u4e86\u5c0b\u627e\u6027\u80fd\u7f3a\u9677\uff0c\u8d8a\u6162\u7684\u670d\u52d9\u8d8a\u662f\u9700\u8981\u8ffd\u8e2a\uff0c\u6240\u4ee5\u5de5\u4f5c\u5834\u666f\u90fd\u662f\u6027\u80fd\u654f\u611f\u7684\u5730\u65b9\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u5c0d\u61c9\u7528\u900f\u660e\uff1a\u8ffd\u8e2a\u7cfb\u7d71\u901a\u5e38\u662f\u904b\u7dad\u671f\u624d\u4e8b\u5f8c\u52a0\u5165\u7684\u7cfb\u7d71\uff0c\u61c9\u8a72\u76e1\u91cf\u4ee5\u975e\u4fb5\u5165\u6216\u8005\u5c11\u4fb5\u5165\u7684\u65b9\u5f0f\u4f86\u5be6\u73fe\u8ffd\u8e2a\uff0c\u5c0d\u958b\u767c\u4eba\u54e1\u505a\u5230\u900f\u660e\u5316\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u96a8\u61c9\u7528\u64f4\u7e2e\uff1a\u73fe\u4ee3\u7684\u5206\u4f48\u5f0f\u670d\u52d9\u96c6\u7fa4\u90fd\u6709\u6839\u64da\u6d41\u91cf\u58d3\u529b\u81ea\u52d5\u64f4\u7e2e\u7684\u80fd\u529b\uff0c\u9019\u8981\u6c42\u7576\u696d\u52d9\u7cfb\u7d71\u64f4\u7e2e\u6642\uff0c\u8ffd\u8e2a\u7cfb\u7d71\u4e5f\u80fd\u81ea\u52d5\u8ddf\u96a8\uff0c\u4e0d\u9700\u8981\u904b\u7dad\u4eba\u54e1\u4eba\u5de5\u53c3\u8207\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u6301\u7e8c\u7684\u76e3\u63a7\uff1a\u8981\u6c42\u8ffd\u8e2a\u7cfb\u7d71\u5fc5\u9808\u80fd\u5920 7x24 \u5c0f\u6642\u5de5\u4f5c\uff0c\u5426\u5247\u5c31\u96e3\u4ee5\u5b9a\u4f4d\u5230\u7cfb\u7d71\u5076\u723e\u6296\u52d5\u7684\u884c\u70ba\u3002")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/cqgGHFdKdDrGj_cpW_uBPQ#at"},"\u539f\u4f86 10 \u5f35\u5716\u5c31\u53ef\u4ee5\u641e\u61c2\u5206\u4f48\u5f0f\u93c8\u8def\u8ffd\u8e2a\u7cfb\u7d71\u539f\u7406")),(0,n.kt)("h3",{id:"\u6578\u64da\u6536\u96c6"},"\u6578\u64da\u6536\u96c6"),(0,n.kt)("h4",{id:"\u57fa\u65bc\u65e5\u8a8c\u7684\u8ffd\u8e2alog-based-tracing"},"\u57fa\u65bc\u65e5\u8a8c\u7684\u8ffd\u8e2a(Log-Based Tracing)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u57fa\u65bc\u65e5\u8a8c\u7684\u8ffd\u8e2a\u7684\u601d\u8def\u662f\u5c07 Trace\u3001Span \u7b49\u8cc7\u8a0a\u76f4\u63a5\u8f38\u51fa\u5230\u61c9\u7528\u65e5\u8a8c\u4e2d\uff0c\u7136\u5f8c\u96a8\u8457\u6240\u6709\u7bc0\u9ede\u7684\u65e5\u8a8c\u6b78\u96c6\u904e\u7a0b\u532f\u805a\u5230\u4e00\u8d77\uff0c\n\u518d\u5f9e\u5168\u5c40\u65e5\u8a8c\u8cc7\u8a0a\u4e2d\u53cd\u63a8\u51fa\u5b8c\u6574\u7684\u8abf\u7528\u93c8\u62d3\u64b2\u95dc\u4fc2\u3002"),(0,n.kt)("p",{parentName:"li"},"\u65e5\u8a8c\u8ffd\u8e2a\u7684\u4ee3\u8868\u7522\u54c1\u662f Spring Cloud Sleuth\uff0c\u4e0b\u9762\u662f\u4e00\u6bb5\u7531 Sleuth \u5728\u8abf\u7528\u6642\u81ea\u52d5\u751f\u6210\u7684\u65e5\u8a8c\u8a18\u9304\uff0c\n\u53ef\u4ee5\u5f9e\u4e2d\u89c0\u5bdf\u5230 TraceID\u3001SpanID\u3001\u7236 SpanID \u7b49\u8ffd\u8e2a\u8cc7\u8a0a\u3002"))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"# \u4ee5\u4e0b\u4e3a\u8c03\u7528\u7aef\u7684\u65e5\u5fd7\u8f93\u51fa\uff1a\nCreated new Feign span [Trace: cbe97e67ce162943, Span: bb1798f7a7c9c142, Parent: cbe97e67ce162943, exportable:false]\n2019-06-30 09:43:24.022 [http-nio-9010-exec-8] DEBUG o.s.c.s.i.web.client.feign.TraceFeignClient - The modified request equals GET http://localhost:9001/product/findAll HTTP/1.1\n\nX-B3-ParentSpanId: cbe97e67ce162943\nX-B3-Sampled: 0\nX-B3-TraceId: cbe97e67ce162943\nX-Span-Name: http:/product/findAll\nX-B3-SpanId: bb1798f7a7c9c142\n\n# \u4ee5\u4e0b\u4e3a\u670d\u52a1\u7aef\u7684\u65e5\u5fd7\u8f93\u51fa\uff1a\n[findAll] to a span [Trace: cbe97e67ce162943, Span: bb1798f7a7c9c142, Parent: cbe97e67ce162943, exportable:false]\nAdding a class tag with value [ProductController] to a span [Trace: cbe97e67ce162943, Span: bb1798f7a7c9c142, Parent: cbe97e67ce162943, exportable:false]\n")),(0,n.kt)("h4",{id:"\u57fa\u65bc\u670d\u52d9\u7684\u8ffd\u8e2aservice-based-tracing"},"\u57fa\u65bc\u670d\u52d9\u7684\u8ffd\u8e2a(Service-Based Tracing)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u670d\u52d9\u8ffd\u8e2a\u7684\u5be6\u73fe\u601d\u8def\u662f\u901a\u904e\u67d0\u4e9b\u624b\u6bb5\u7d66\u76ee\u6a19\u61c9\u7528\u6ce8\u5165\u8ffd\u8e2a\u63a2\u91dd(Probe)")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.jaegertracing.io/"},"jaeger")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u61c9\u7528\u7a0b\u5e8f\u62d3\u64b2\u5716"),(0,n.kt)("li",{parentName:"ul"},"\u5be6\u6642\u76e3\u63a7\u60a8\u7684\u61c9\u7528\u7a0b\u5e8f"),(0,n.kt)("li",{parentName:"ul"},"\u7372\u5f97\u5c0d\u6bcf\u7b46\u4ea4\u6613\u7684\u4ee3\u78bc\u7d1a\u53ef\u898b\u6027")),(0,n.kt)("h4",{id:"jaeger-tracing-architecture"},"Jaeger Tracing Architecture"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"Jaeger Tracing Architecture",src:a(91075).Z,width:"1400",height:"836"}))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"jaeger",src:a(30536).Z,width:"1400",height:"546"}))),(0,n.kt)("h4",{id:"\u57fa\u65bc\u908a\u8eca\u4ee3\u7406\u7684\u8ffd\u8e2asidecar-based-tracing"},"\u57fa\u65bc\u908a\u8eca\u4ee3\u7406\u7684\u8ffd\u8e2a(Sidecar-Based Tracing)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u670d\u52d9\u7db2\u683c\nEnvoy \u662f\u5c08\u70ba\u5927\u578b\u73fe\u4ee3 SOA\uff08Service-oriented Architecture \u670d\u52d9\u5c0e\u5411\u67b6\u69cb\uff09\u67b6\u69cb\u8a2d\u8a08\u7684 L7 \u4ee3\u7406\u548c",(0,n.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/zh-tw/%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1"},"\u5e8f\u5217\u901a\u8a0a"),"\uff0c\u9ad4\u7a4d\u5c0f\uff0c\u6027\u80fd\u9ad8\u3002\u5b83\u7684\u8a95\u751f\u6e90\u65bc\u4ee5\u4e0b\u7406\u5ff5\uff1a\n\u5c0d\u65bc\u61c9\u7528\u7a0b\u5e8f\u800c\u8a00\uff0c\u7db2\u7d61\u61c9\u8a72\u662f\u900f\u660e\u7684\uff0c\u7576\u767c\u751f\u7db2\u7d61\u548c\u61c9\u7528\u7a0b\u5e8f\u6545\u969c\u6642\uff0c\u80fd\u5920\u5f88\u5bb9\u6613\u5b9a\u4f4d\u51fa\u554f\u984c\u7684\u6839\u6e90\u3002")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u975e\u4fb5\u5165\u7684\u67b6\u69cb : Envoy \u662f\u4e00\u500b\u7368\u7acb\u9032\u7a0b\uff0c\u8a2d\u8a08\u70ba\u4f34\u96a8\u6bcf\u500b\u61c9\u7528\u7a0b\u5e8f\u670d\u52d9\u904b\u884c\u3002\n\u6240\u6709\u7684 Envoy \u5f62\u6210\u4e00\u500b\u900f\u660e\u7684\u901a\u4fe1\u7db2\u683c\uff0c\u6bcf\u500b\u61c9\u7528\u7a0b\u5e8f\u767c\u9001\u6d88\u606f\u5230\u672c\u5730\u4e3b\u6a5f\u6216\u5f9e\u672c\u5730\u4e3b\u6a5f\u63a5\u6536\u6d88\u606f\uff0c\n\u4e0d\u9700\u8981\u77e5\u9053\u7db2\u7d61\u62d3\u64b2\uff0c\u5c0d\u670d\u52d9\u7684\u5be6\u73fe\u8a9e\u8a00\u4e5f\u5b8c\u5168\u7121\u611f\u77e5\uff0c\u9019\u7a2e\u6a21\u5f0f\u4e5f\u88ab\u7a31\u70ba Sidecar\u3002"),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"envoy-sidecar",src:a(7599).Z,width:"480",height:"480"}))))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Ref: ",(0,n.kt)("a",{parentName:"p",href:"https://icloudnative.io/envoy-handbook/docs/overview/overview/"},"envoy-handbook"))),(0,n.kt)("h3",{id:"\u8ffd\u8e2a\u898f\u7bc4\u4ec0\u9ebc\u662f-opentelemetry"},"\u8ffd\u8e2a\u898f\u7bc4\u3002\u4ec0\u9ebc\u662f OpenTelemetry\uff1f"),(0,n.kt)("p",null,(0,n.kt)("del",{parentName:"p"},"\u5169\u500b\u898f\u7bc4\u6436\u8a71\u8a9e\u6b0a\uff0c\u6700\u7d42\u63e1\u624b\u548c\u89e3\u7522\u751f OpenTelemetry")),(0,n.kt)("p",null,"OpenTelemetry \u662f\u4e00\u7d44 API \u548c SDK\uff0c\u5141\u8a31\u6211\u5011\u6536\u96c6\u548c\u5c0e\u51fa\u8ddf\u8e2a\u3001\u65e5\u8a8c\u548c\u6307\u6a19\uff08\u4e5f\u7a31\u70ba\u53ef\u89c0\u5bdf\u6027\u7684\u4e09\u5927\u652f\u67f1\uff09\u3002"),(0,n.kt)("p",null,"\u5b83\u662f\u4e00\u500b CNCF \u793e\u5340\u9a45\u52d5\u7684\u958b\u6e90\u9805\u76ee\uff08Cloud Native Computing Foundation\uff0cKubernetes \u7684\u8ca0\u8cac\u4eba\uff09\u3002"),(0,n.kt)("p",null,"OpenTelemetry \u4f7f\u6211\u5011\u80fd\u5920\u6aa2\u6e2c\u6211\u5011\u7684\u96f2\u539f\u751f\u61c9\u7528\u7a0b\u5e8f\u3002\u6aa2\u6e2c\u60a8\u7684\u4ee3\u78bc\u610f\u5473\u8457\u5f9e\u60a8\u7cfb\u7d71\u4e2d\u767c\u751f\u7684\u4e8b\u4ef6\u4e2d\u6536\u96c6\u9059\u6e2c\u6578\u64da\uff0c\u9019\u6700\u7d42\u6709\u52a9\u65bc\u6211\u5011\u4e86\u89e3\u8edf\u4ef6\u7684\u6027\u80fd\u548c\u884c\u70ba\u3002"),(0,n.kt)("p",null,"OpenTelemetry \u9805\u76ee\u4e4b\u6240\u4ee5\u7368\u4e00\u7121\u4e8c\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b 3 \u500b\u539f\u56e0\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5b83\u662f\u958b\u6e90\u7684\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u6536\u96c6\u65e5\u8a8c\u3001\u6307\u6a19\u548c\u8ddf\u8e2a\uff0c\u4e26\u5145\u7576\u5c07\u5b83\u5011\u805a\u96c6\u5728\u4e00\u8d77\u7684\u7c98\u5408\u5291\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u6240\u6709\u4f9b\u61c9\u5546\u90fd\u5c0a\u91cd\u7684\u4e00\u7a2e\u898f\u7bc4\u2014\u2014\u6a19\u6e96\u7684\u53ef\u89c0\u5bdf\u6027\u6846\u67b6\u3002")),(0,n.kt)("p",null,"OpenTelemetry \u7528\u4f5c\u6a19\u6e96\u7684\u53ef\u89c0\u5bdf\u6027\u6846\u67b6\uff0c\u53ef\u5728\u55ae\u4e00\u898f\u7bc4\u4e0b\u6355\u7372\u6240\u6709\u9059\u6e2c\u6578\u64da\u3002"),(0,n.kt)("p",null,"\u5b83\u63d0\u4f9b\u4e86\u5e7e\u500b\u7d44\u4ef6\uff0c\u5305\u62ec\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u7528\u65bc\u751f\u6210\u9059\u6e2c\u7684\u6bcf\u7a2e\u7de8\u7a0b\u8a9e\u8a00\u7684 API \u548c SDK"),(0,n.kt)("li",{parentName:"ul"},"OpenTelemetry \u6536\u96c6\u5668\uff1b\u63a5\u6536\u3001\u8655\u7406\u9059\u6e2c\u6578\u64da\u4e26\u5c07\u5176\u5c0e\u51fa\u5230\u4e0d\u540c\u7684\u76ee\u7684\u5730\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u7528\u65bc\u50b3\u8f38\u9059\u6e2c\u6578\u64da\u7684",(0,n.kt)("a",{parentName:"li",href:"https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/protocol/otlp.md"},"OTLP"),"\u5354\u8b70")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://opentelemetry.io/"},"OpenTelemetry")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/open-telemetry/opentelemetry-collector"},"OpenTelemetry Collector")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.aspecto.io/blog/what-is-opentelemetry-the-infinitive-guide/?utm_source=jaeger-medium&utm_medium=post&utm_campaign=jaeger-tracing-the-ultimate-guide"},"What is OpenTelemetry? A Straightforward Guide")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"envoy-OpenTelemetry",src:a(60733).Z,width:"783",height:"324"}))),(0,n.kt)("p",null,"Ref:",(0,n.kt)("a",{parentName:"p",href:"https://blog.envoyproxy.io/envoy-support-for-opentelemetry-access-logging-e4b08160d32c"},"Announcing Alpha OpenTelemetry\naccess logging support in\nEnvoy")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"\u9019\u9031 Scrum"),(0,n.kt)("p",null,"iOS \u5c08\u6848\u6211\u958b\u59cb\u52d5\u624b\u505a OpenTelemetry + Jaeger")),(0,n.kt)("h2",{id:"\u805a\u5408\u5ea6\u91cfmetrics"},"\u805a\u5408\u5ea6\u91cf(Metrics)"),(0,n.kt)("p",null,"\u6307\u6a19(Metrics)\uff1a\u662f\u5728\u4e00\u6bb5\u56fa\u5b9a\u9593\u9694\u6536\u96c6\u7684\u6e2c\u91cf\u6216\u7cfb\u7d71\u72c0\u614b\u7684\u7d00\u9304\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Metrics",src:a(282).Z,width:"1134",height:"511"})),(0,n.kt)("p",null,"\u6307\u6a19\u53ef\u7528\u4f86\u5075\u6e2c\u6216\u9810\u6e2c\u554f\u984c\uff0c\u4f8b\u5982\u7a81\u7136\u98c6\u9ad8\u7684 CPU \u4f7f\u7528\u7387\u6216\u5c07\u8981\u6c92\u6709\u4f7f\u7528\u7a7a\u9593\u7684\u4e3b\u6a5f\uff0c\n\u4e5f\u53ef\u4ee5\u7528\u505a\u66f4\u4e3b\u52d5\u5730\u5206\u6790\u4f86\u512a\u5316\u7cfb\u7d71\uff0c\u6700\u5f8c\u9084\u53ef\u4ee5\u7528\u4f86\u505a\u885d\u64ca\u5206\u6790(impact analysis)\uff0c\u50cf\u662f\u61c9\u7528\u670d\u52d9\u639b\u6389\u7684\u90a3\u6bb5\u6642\u9593\uff0c\n\u9020\u6210\u4f7f\u7528\u8005\u4e0d\u723d\u4e0d\u7528\u4e86\u6216\u662f\u5c0d\u71df\u6536\u7684\u5f71\u97ff\u7b49\u7b49\u3002"),(0,n.kt)("p",null,"\u672c\u66f8\u7528",(0,n.kt)("a",{parentName:"p",href:"https://prometheus.io/"},"Prometheus"),"\u4ecb\u7d39"),(0,n.kt)("h3",{id:"\u6307\u6a19\u6536\u96c6"},"\u6307\u6a19\u6536\u96c6"),(0,n.kt)("p",null,'\u6307\u6a19\u6536\u96c6\u90e8\u5206\u8981\u89e3\u6c7a\u5169\u500b\u554f\u984c\uff1a"\u5982\u4f55\u5b9a\u7fa9\u6307\u6a19"\u4ee5\u53ca"\u5982\u4f55\u5c07\u9019\u4e9b\u6307\u6a19\u544a\u8a34\u670d\u52d9\u7aef"'),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u8a08\u6578\u5ea6\u91cf\u5668(Counter)\uff1a\u9019\u662f\u6700\u597d\u7406\u89e3\u4e5f\u662f\u6700\u5e38\u7528\u7684\u6307\u6a19\u5f62\u5f0f\uff0c\u8a08\u6578\u5668\u5c31\u662f\u5c0d\u6709\u76f8\u540c\u91cf\u7db1\u3001\u53ef\u52a0\u6e1b\u6578\u503c\u7684\u5408\u8a08\u91cf\uff0c\u8b6c\u5982\u696d\u52d9\u6307\u6a19\u50cf\u92b7\u552e\u984d\u3001\u8ca8\u7269\u5eab\u5b58\u91cf\u3001\u8077\u5de5\u4eba\u6578\u7b49\u7b49\uff1b\u6280\u8853\u6307\u6a19\u50cf\u670d\u52d9\u8abf\u7528\u6b21\u6578\u3001\u7db2\u7ad9\u8a2a\u554f\u4eba\u6578\u7b49\u90fd\u5c6c\u65bc\u8a08\u6578\u5668\u6307\u6a19\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u77ac\u614b\u5ea6\u91cf\u5668(Gauge)\uff1a\u77ac\u614b\u5ea6\u91cf\u5668\u6bd4\u8a08\u6578\u5668\u66f4\u7c21\u55ae\uff0c\u5b83\u5c31\u8868\u793a\u67d0\u500b\u6307\u6a19\u5728\u67d0\u500b\u6642\u9ede\u7684\u6578\u503c\uff0c\u9023\u52a0\u6e1b\u7d71\u8a08\u90fd\u4e0d\u9700\u8981\u3002\u8b6c\u5982\u7576\u524d Java \u865b\u64ec\u6a5f\u5806\u5167\u5b58\u7684\u4f7f\u7528\u91cf\uff0c\u9019\u5c31\u662f\u4e00\u500b\u77ac\u614b\u5ea6\u91cf\u5668\uff1b\u53c8\u8b6c\u5982\uff0c\u7db2\u7ad9\u8a2a\u554f\u4eba\u6578\u662f\u8a08\u6578\u5668\uff0c\u800c\u7db2\u7ad9\u5728\u7dda\u4eba\u6578\u5247\u662f\u77ac\u614b\u5ea6\u91cf\u5668\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u541e\u5410\u7387\u5ea6\u91cf\u5668(Meter)\uff1a\u541e\u5410\u7387\u5ea6\u91cf\u5668\u9867\u540d\u601d\u7fa9\u662f\u7528\u65bc\u7d71\u8a08\u55ae\u4f4d\u6642\u9593\u7684\u541e\u5410\u91cf\uff0c\u5373\u55ae\u4f4d\u6642\u9593\u5167\u67d0\u500b\u4e8b\u4ef6\u7684\u767c\u751f\u6b21\u6578\u3002\u8b6c\u5982\u4ea4\u6613\u7cfb\u7d71\u4e2d\u5e38\u4ee5 TPS \u8861\u91cf\u4e8b\u52d9\u541e\u5410\u7387\uff0c\u5373\u6bcf\u79d2\u767c\u751f\u4e86\u591a\u5c11\u7b46\u4e8b\u52d9\u4ea4\u6613\uff1b\u53c8\u8b6c\u5982\u6e2f\u53e3\u7684\u8ca8\u904b\u541e\u5410\u7387\u5e38\u4ee5\u201c\u5678/\u6bcf\u5929\u201d\u70ba\u55ae\u4f4d\u8a08\u7b97\uff0c10 \u842c\u5678/\u5929\u7684\u6e2f\u53e3\u901a\u5e38\u8981\u6bd4 1 \u842c\u5678/\u5929\u7684\u6e2f\u53e3\u7684\u8ca8\u904b\u898f\u6a21\u66f4\u5927\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u76f4\u65b9\u5716\u5ea6\u91cf\u5668(Histogram)\uff1a\u76f4\u65b9\u5716\u662f\u5e38\u898b\u7684\u4e8c\u7dad\u7d71\u8a08\u5716\uff0c\u5b83\u7684\u5169\u500b\u5750\u6a19\u5206\u5225\u662f\u7d71\u8a08\u6a23\u672c\u548c\u8a72\u6a23\u672c\u5c0d\u61c9\u7684\u67d0\u500b\u5c6c\u6027\u7684\u5ea6\u91cf\uff0c\u4ee5\u9577\u689d\u5716\u7684\u5f62\u5f0f\u8868\u793a\u5177\u9ad4\u6578\u503c\u3002\u8b6c\u5982\u7d93\u6fdf\u5831\u544a\u4e2d\u8981\u8861\u91cf\u67d0\u500b\u5730\u5340\u6b77\u5e74\u7684 GDP \u8b8a\u5316\u60c5\u6cc1\uff0c\u5e38\u6703\u4ee5 GDP \u70ba\u7e31\u5750\u6a19\uff0c\u6642\u9593\u70ba\u6a6b\u5750\u6a19\u69cb\u6210\u76f4\u65b9\u5716\u4f86\u5448\u73fe\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u63a1\u6a23\u9ede\u5206\u4f4d\u5716\u5ea6\u91cf\u5668(Quantile Summary)\uff1a\u5206\u4f4d\u5716\u662f\u7d71\u8a08\u5b78\u4e2d\u901a\u904e\u6bd4\u8f03\u5404\u5206\u4f4d\u6578\u7684\u5206\u4f48\u60c5\u6cc1\u7684\u5de5\u5177\uff0c\u7528\u65bc\u9a57\u8b49\u5be6\u969b\u503c\u8207\u7406\u8ad6\u503c\u7684\u5dee\u8ddd\uff0c\u8a55\u4f30\u7406\u8ad6\u503c\u8207\u5be6\u969b\u503c\u4e4b\u9593\u7684\u64ec\u5408\u5ea6\u3002\u8b6c\u5982\uff0c\u6211\u5011\u8aaa\u201c\u9ad8\u8003\u6210\u7e3e\u4e00\u822c\u7b26\u5408\u6b63\u614b\u5206\u4f48\u201d\uff0c\u9019\u53e5\u8a71\u7684\u610f\u601d\u662f\uff1a\u9ad8\u8003\u6210\u7e3e\u9ad8\u4f4e\u5206\u7684\u4eba\u6578\u90fd\u8f03\u5c11\uff0c\u4e2d\u7b49\u6210\u7e3e\u7684\u8f03\u591a\uff0c\u5c07\u4eba\u6578\u6309\u4e0d\u540c\u5206\u6578\u6bb5\u7d71\u8a08\uff0c\u5f97\u51fa\u7684\u7d71\u8a08\u7d50\u679c\u4e00\u822c\u80fd\u5920\u8207\u6b63\u614b\u5206\u4f48\u7684\u66f2\u7dda\u8f03\u597d\u5730\u64ec\u5408\u3002\n\u9664\u4e86\u4ee5\u4e0a\u5e38\u898b\u7684\u5ea6\u91cf\u5668\u4e4b\u5916\uff0c\u9084\u6709 Timer\u3001Set\u3001Fast Compass\u3001Cluster Histogram \u7b49\u5176\u4ed6\u5404\u7a2e\u5ea6\u91cf\u5668\uff0c\u63a1\u7528\u4e0d\u540c\u7684\u5ea6\u91cf\u7cfb\u7d71\uff0c\u652f\u6301\u5ea6\u91cf\u5668\u985e\u578b\u7684\u7bc4\u570d\u80af\u5b9a\u6703\u6709\u5dee\u5225\uff0c\u8b6c\u5982 Prometheus \u652f\u6301\u4e86\u4e0a\u9762\u63d0\u5230\u4e94\u7a2e\u5ea6\u91cf\u5668\u4e2d\u7684 Counter\u3001Gauge\u3001Histogram \u548c Summary \u56db\u7a2e\u3002")),(0,n.kt)("h4",{id:"\u5982\u4f55\u5c07\u9019\u4e9b\u6307\u6a19\u544a\u8a34\u670d\u52d9\u7aef"},"\u5982\u4f55\u5c07\u9019\u4e9b\u6307\u6a19\u544a\u8a34\u670d\u52d9\u7aef"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u63a8\u9001\u5f0f\u63a1\u96c6(Push-Based Metrics Collection)\nPush \u5c31\u662f\u7531\u76ee\u6a19\u7cfb\u7d71\u4e3b\u52d5\u5411\u5ea6\u91cf\u7cfb\u7d71\u63a8\u9001\u6307\u6a19\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u62c9\u53d6\u5f0f\u63a1\u96c6(Pull-Based Metrics Collection)\nPull \u662f\u6307\u5ea6\u91cf\u7cfb\u7d71\u4e3b\u52d5\u5f9e\u76ee\u6a19\u7cfb\u7d71\u4e2d\u62c9\u53d6\u6307\u6a19\n",(0,n.kt)("a",{parentName:"li",href:"https://prometheus.io/docs/introduction/faq/#why-do-you-pull-rather-than-push?"},"why do you pull rather than push?"))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"prometheus-stake",src:a(48088).Z,width:"1280",height:"881"}))),(0,n.kt)("h4",{id:"\u5b58\u5132\u67e5\u8a62"},"\u5b58\u5132\u67e5\u8a62"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'{\n    // \u65f6\u95f4\u6233\n    "timestamp": 1599117392,\n    // \u6307\u6807\u540d\u79f0\n    "metric": "total_website_visitors",\n    // \u6807\u7b7e\u7ec4\n    "tags": {\n        "host": "icyfenix.cn",\n        "job": "prometheus"\n    },\n    // \u6307\u6807\u503c\n    "value": 10086\n}\n')),(0,n.kt)("h4",{id:"\u76e3\u63a7\u9810\u8b66"},"\u76e3\u63a7\u9810\u8b66"),(0,n.kt)("p",null,"Prometheus \u914d\u5408",(0,n.kt)("a",{parentName:"p",href:"https://grafana.com/"},"Grafana")),(0,n.kt)("p",null,"\u6307\u6a19\u662f\u6578\u64da\u7684\u6578\u5b57\u8868\u793a\u3002\u5b83\u5305\u62ec\u540d\u7a31\u3001\u6a19\u7c64\u3001\u503c\u3001\u767c\u751f\u6642\u9593\u7b49\u503c\uff0c\u4e26\u50b3\u9054\u6709\u95dc\u61c9\u7528\u7a0b\u5e8f\u7d44\u4ef6\u7684\u8cc7\u8a0a\u3002"),(0,n.kt)("p",null,"\u5b83\u5011\u4ee3\u8868\u88ab\u76e3\u8996\u7684\u7cfb\u7d71\u6216\u61c9\u7528\u7a0b\u5e8f\u7684\u7279\u5b9a\u65b9\u9762\u3002\u5b83\u5011\u63d0\u4f9b\u4e86\u4e00\u7a2e\u8861\u91cf\u7cfb\u7d71\u6027\u80fd\u3001\u5065\u5eb7\u72c0\u6cc1\u548c\u884c\u70ba\u7684\u65b9\u6cd5\uff0c\u53ef\u7528\u65bc\u8b58\u5225\u554f\u984c\u3001\u89f8\u767c\u8b66\u5831\u548c\u8861\u91cf\u8b8a\u66f4\u7684\u5f71\u97ff\u3002"),(0,n.kt)("p",null,"\u901a\u5e38\u76e3\u63a7\u7684\u4e00\u4e9b\u5e38\u898b\u6307\u6a19\u985e\u578b\u5305\u62ec\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u8cc7\u6e90\u5229\u7528\u7387\u6307\u6a19\uff1a\u9019\u4e9b\u6307\u6a19\u8861\u91cf\u5404\u7a2e\u7cfb\u7d71\u8cc7\u6e90\u7684\u5229\u7528\u7387\uff0c\u5982 CPU\u3001\u5167\u5b58\u3001\u78c1\u76e4\u7a7a\u9593\u3001\u7db2\u7d61\u5e36\u5bec\u7b49\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u6027\u80fd\u6307\u6a19\uff1a\u9019\u4e9b\u6307\u6a19\u8861\u91cf\u7cfb\u7d71\u7684\u6027\u80fd\uff0c\u4f8b\u5982\u97ff\u61c9\u6642\u9593\u3001\u5ef6\u9072\u3001\u541e\u5410\u91cf\u7b49\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u932f\u8aa4\u7387\u6307\u6a19\uff1a\u9019\u4e9b\u6307\u6a19\u8861\u91cf\u7cfb\u7d71\u4e2d\u767c\u751f\u7684\u932f\u8aa4\u3001\u7570\u5e38\u6216\u6545\u969c\u7684\u6578\u91cf\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u98fd\u548c\u5ea6\u6307\u6a19\uff1a\u9019\u4e9b\u6307\u6a19\u8861\u91cf\u8cc7\u6e90\u88ab\u5229\u7528\u7684\u7a0b\u5ea6\uff0c\u4f8b\u5982\u6d3b\u52d5\u9023\u63a5\u6578\u3001\u6253\u958b\u6587\u4ef6\u7b49\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u53ef\u7528\u6027\u6307\u6a19\uff1a\u9019\u4e9b\u6307\u6a19\u8861\u91cf\u7cfb\u7d71\u7684\u53ef\u7528\u6027\uff0c\u4f8b\u5982\u4fc2\u7d71\u6b63\u5e38\u904b\u884c\u7684\u6642\u9593\u767e\u5206\u6bd4\u3001\u4e0d\u53ef\u7528\u7684\u6b21\u6578\u7b49\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u4f7f\u7528\u591a\u7a2e\u65b9\u6cd5\u6536\u96c6\u6307\u6a19\uff0c\u5305\u62ec\u624b\u52d5\u76e3\u63a7\u3001\u7cfb\u7d71\u65e5\u8a8c\u548c\u5c08\u9580\u7684\u76e3\u63a7\u5de5\u5177\u3002\u6307\u6a19\u7684\u9078\u64c7\u5c07\u53d6\u6c7a\u65bc\u88ab\u76e3\u63a7\u7684\u7cfb\u7d71\u548c\u76e3\u63a7\u5de5\u4f5c\u7684\u76ee\u6a19\u3002")),(0,n.kt)("p",null,"\u5ea6\u91cf\u6a19\u6e96\u7684\u76ee\u7684\u662f\u901a\u77e5\u7cfb\u7d71\u7ba1\u7406\u54e1\u4ed6\u5011\u7684\u61c9\u7528\u7a0b\u5e8f\u5065\u5eb7\u72c0\u6cc1\u3002\u5b83\u5728\u5404\u500b\u9818\u57df\u7684\u8868\u73fe\u5982\u4f55\uff0c\u9700\u8981\u7dca\u6025\u95dc\u6ce8\u4ec0\u9ebc\u3002"),(0,n.kt)("p",null,"\u5b83\u5e36\u6709\u8b66\u5831\u529f\u80fd\uff1b\u6bcf\u7576\u67d0\u500b\u6307\u6a19\u8d85\u904e\u95be\u503c\u6642\uff0c\u7528",(0,n.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/zh-tw/%E7%BD%91%E7%BB%9C%E9%92%A9%E5%AD%90"},"Webhook"),"\u901a\u77e5\uff0c\n\u7ba1\u7406\u54e1\u5c31\u6703\u6536\u5230\u6d88\u606f\u3002\u9019\u4f7f\u4ed6\u80fd\u5920\u5728\u6709\u91dd\u5c0d\u6027\u7684\u554f\u984c\u4e0a\u8fc5\u901f\u63a1\u53d6\u884c\u52d5\u3002"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"\u672a\u4f86\u9031 Scrum"),(0,n.kt)("p",null,"\u67d0\u5f8c\u7aef\u5c08\u6848\u6211\u958b\u59cb\u52d5\u624b\u505a ",(0,n.kt)("a",{parentName:"p",href:"https://blog.techbridge.cc/2019/08/26/how-to-use-prometheus-grafana-in-flask-app/"},"Prometheus + Grafana"))))}m.isMDXComponent=!0},63820:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/10-1-173f71a398ac6c1257357fd285209703.png"},87204:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/10-12-f247c49f8c901cf82c1a3b00538b2c99.jpg"},30536:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/10-13-89f90329e9f67c5b21bf2be6858ad719.png"},91075:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/10-14-883a01c3f46c61627d1112b649555b18.jpeg"},2380:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/10-2-61e9f59d31c2cc83e7939fa296661758.png"},89250:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/10-3-11b4ea21e3181ba26e2e9c7b0ddb7df3.jpg"},22821:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/10-4-ed089a48a24b11f2513ac45ab937777f.png"},49468:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/10-5-739e3a8946bf0681e7219cbdd37b1219.png"},7599:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/10-7-1d5012f7d2483cf545f9113eb1d896a0.png"},60733:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/10-8-cd5b9191b94d31d74685d49376b97401.webp"},282:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/10-9-ef84d1017a5e301e129c2714dacdc192.webp"},6558:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/API-observability-f0a30365fa32b4e6aaa9e3095623a0a6.png"},74620:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/Logs-vs-traces-red@2x-2-b0d9b44d5d45a77add0a2c0baecd45da.webp"},37859:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/kibana-dashboard-9626fe8327f504ef84e9431d77e40d20.jpeg"},48088:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/prometheus-stake-87eff3cf7157ad0a423d2a07d5b159ab.jpeg"}}]);