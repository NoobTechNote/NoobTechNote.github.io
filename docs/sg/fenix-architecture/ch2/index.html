<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-sg/fenix-architecture/ch2">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<title data-rh="true">Ch2: 存取遠端服務 | Noob Tech Note</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://noobtechnote.github.io//docs/sg/fenix-architecture/ch2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ch2: 存取遠端服務 | Noob Tech Note"><meta data-rh="true" name="description" content="遠端服務將電腦程式"><meta data-rh="true" property="og:description" content="遠端服務將電腦程式"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://noobtechnote.github.io//docs/sg/fenix-architecture/ch2"><link data-rh="true" rel="alternate" href="https://noobtechnote.github.io//docs/sg/fenix-architecture/ch2" hreflang="en"><link data-rh="true" rel="alternate" href="https://noobtechnote.github.io//docs/sg/fenix-architecture/ch2" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.903df4ab.css">
<link rel="preload" href="/assets/js/runtime~main.9a2703fd.js" as="script">
<link rel="preload" href="/assets/js/main.a93be2db.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icon-144.png" alt="Noob Tech Note" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/icon-144.png" alt="Noob Tech Note" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate">Noob Tech Note</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/sg">Study Group</a></div><div class="navbar__items navbar__items--right"><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/sg/">Study Group Notes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Study Group Notes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/clean-architecture/">Clean Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Clean Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/sg/fenix-architecture/">鳳凰架構</a><button aria-label="Toggle the collapsible sidebar category &#x27;鳳凰架構&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fenix-architecture/ch0">Ch0: 前言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fenix-architecture/ch1">Ch1: 服務架構演進史</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/sg/fenix-architecture/ch2">Ch2: 存取遠端服務</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fenix-architecture/ch3">Ch3: 交易處理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fenix-architecture/ch4">Ch4: 透明多級分流系統</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fenix-architecture/ch4.5-6">Ch4.5~6: 負載均衡和服務端緩存</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fenix-architecture/ch5">Ch5: 架構安全性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fenix-architecture/ch6">Ch6: 分佈式共識算法</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fenix-architecture/ch7">Ch7: 從函式庫到服務</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fenix-architecture/ch8">Ch8: 流量治理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fenix-architecture/ch9">Ch9: 可靠通信</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/web-api-the-good-parts/">Web API: The Good Parts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web API: The Good Parts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/sg/"><span itemprop="name">Study Group Notes</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/sg/fenix-architecture/"><span itemprop="name">鳳凰架構</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ch2: 存取遠端服務</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><h1>存取遠端服務</h1><p>遠端服務將電腦程式</p><p>從<strong>單機</strong>擴展到<strong>網路</strong></p><p>從<strong>本機</strong>延伸到<strong>遠端</strong></p><p>是構建分散式系統的重要基礎。</p><p>尤其進入網路時代，不同載具間，都會與其他設備溝通的需求。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="遠端服務呼叫">遠端服務呼叫<a class="hash-link" href="#遠端服務呼叫" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="行程間的通訊">行程間的通訊<a class="hash-link" href="#行程間的通訊" title="Direct link to heading">​</a></h3><p>RPC 出現的最初目的：為了讓電腦能夠跟呼叫本機方法一樣去呼叫遠端方法。</p><div class="language-java codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-java codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">// Caller : 调用者，代码里的main()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Callee ： 被调用者，代码里的println()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Call Site ： 调用点，即发生方法调用的指令流位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Parameter ： 参数，由Caller传递给Callee的数据，即“hello world”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Retval ： 返回值，由Callee传递给Caller的数据。以下代码中如果方法能够正常结束，它是void，如果方法异常完成，它是对应的异常</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(“hello world”);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>本機呼叫方法的過程：<ul><li>傳遞方法参數： hello word 放入記憶體stack</li><li>確定方法版本：確定callee println()執行版本</li><li>執行被呼叫方法：從記憶體stack把parameter拿出來</li><li>返回執行結果：將callee執行結果放入記憶體stack</li></ul></li></ul><ul><li><p>行程間通訊（Inter-Process Communication，IPC）的方法</p><ul><li>管道（Pipe）或者具名管道（Named Pipe）<ul><li>管道典型運用就是命令列中的|操作符號，譬如：<div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">ps -ef | grep java</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li>訊號（Signal）訊號用於通知目標行程某種事件發生，除了用於行程間通訊外，行程還可以發送訊號给行程本身。<ul><li>訊號的典型運用是kill命令，譬如：<div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">kill -9 pid</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li>號誌（Semaphore）號誌用於两個行程之間同步協作手段，程序可以在上面進行wait()和notify()。</li></ul><p>------上面傳遞較少訊息------</p><ul><li>訊息佇列（Message Queue）克服訊號承載訊息量少，但即時性受限。</li><li>共享内存（Shared Memory）</li></ul><p>------上面只適合單機多行程間的通訊------</p><ul><li>Socket 是更普適的行程通訊機制，可用於不同機器之間的行程通訊。</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="通訊的成本">通訊的成本<a class="hash-link" href="#通訊的成本" title="Direct link to heading">​</a></h3><ul><li>最初RPC是作為Socket的特例，Socket是作業系統提供的標準通訊埠，完全有可能把呼叫遠端方法的通訊細節隱藏在作業系統底層，從應用層面上看來可以做到<strong>遠端呼叫</strong>與<strong>本機的行程間通訊</strong>在編碼上完全一致。</li><li>但這種透明的呼叫形式卻反而造成了工程師<strong>誤以為通訊是無成本的假象</strong>，因而被濫用導致降低了分散式系統的效能。</li><li>Andrew Tanenbaum 教授曾發表了論文對透明的RPC範式提出質問：<ul><li>兩個行程通訊，誰是伺服器端，誰作為客戶端？</li><li>如何進行異常處理？異常該如何讓呼叫者得知？</li><li>伺服器端出現多線程競爭之後怎麼辦？</li><li>如何提高網路利用的效率？譬如連接是否可以被多個請求重複使用以減少開銷？是否支持廣播？</li><li>如何保證網路的可靠性？譬如呼叫期間某個連線忽然斷開了怎麼辦？</li><li>發送的請求伺服器端收不到回應該怎麼辦？</li></ul></li><li>透過網路進行分散式運算的八宗罪：<ul><li>網路是可靠的</li><li>延遲是不存在的</li><li>頻寬是無限的</li><li>網路是安全的</li><li>拓樸結構是一成不變的</li><li>總會有一个管理員</li><li>不必考慮傳輸成本</li><li>網路是同質化的 (沒有不規則的)</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="三個基本問題">三個基本問題<a class="hash-link" href="#三個基本問題" title="Direct link to heading">​</a></h3><ul><li><strong>如何表示數據？</strong>數據包括傳遞方法的参数，以及方法執行後的返回值。即<strong>序列化(serialize)</strong>、<strong>反序列化(deserialize)</strong><ul><li>gRPC 的Protocol Buffers</li><li>Web Service 的XML Serialization</li><li>眾多輕量級 RPC 支持的JSON Serialization</li></ul></li><li><strong>如何傳遞數據？</strong> 指如何透過網路，在兩個個服務的 Endpoint 之間操作、交換數據。</li><li><strong>如何確定方法？</strong> 「如何表示同一個方法」，「如何找到對應的方法」 -- 介面描述語言（Interface Description Language，IDL）</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="統一的rpc">統一的RPC<a class="hash-link" href="#統一的rpc" title="Direct link to heading">​</a></h3><ul><li>DCS/RPC、ONC RPC<ul><li>不支援物件導向，只能傳遞值，不能傳遞物件</li><li>ONC RPC 有XDR的序列化器，可以序列化結構</li></ul></li><li>CORBA<ul><li>v1.0 C、C++</li><li>v3.0 C、C++、Java、Object Pascal、Python、Ruby</li><li>過於囉唆繁鎖，各語言間互不相容</li></ul></li><li>Web Service (SOAP)<ul><li>以XML來表示數據，簡單，但是效能很差，1998年成為W3C的推薦標準</li><li>希望在一套協議上完全解決分散式運算中可能遇到的所有問題，導致學習成本高</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="分裂的rpc">分裂的RPC<a class="hash-link" href="#分裂的rpc" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">* 經歷統一的RPC後，簡單、普適、高效能這三點難以滿足。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* RPC協議不再追求大而全的「完美」，而是朝「特色」發展。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    * 朝向物件導向發展</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * RMI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * .NET Remoting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * CORBA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * DCOM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    * 朝向效能發展</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * gRPC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * Thrift</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * RPC 性能：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            * 序列化效率</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              * 輸出結果的容量越小，速度越快，效率自然越高。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            * 信息密度。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              * 取决於Payload所占傳輸總數據的比例大小，使用傳輸協議的層次越高，訊息密度就越低，SOAP 使用 XML 拙劣的性能表現就是前車之鑑。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    * 朝向簡化發展</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * JSON_RPC：功能弱、速度慢。犧牲功能和效率，得到協議的簡單輕便，介面與格式都更為通用，尤其適合 Web 瀏覽器。</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Question</h5></div><div class="admonition-content"><p>開發一個分散式系統，是不是就一定要用 RPC 呢？</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="rest設計風格">REST設計風格<a class="hash-link" href="#rest設計風格" title="Direct link to heading">​</a></h2><ul><li>在思想上差異的核心：抽象的目標不一樣<ul><li>REST: 資源導向</li><li>RPC: 程序導向</li></ul></li><li>概念上的不同：REST不是一種遠端服務呼叫協議，REST是一種風格。</li><li>使用範圍，REST與RPC，在使用上是確實有重疊，但重疊有多大就見仁見智了。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="理解rest">理解REST<a class="hash-link" href="#理解rest" title="Direct link to heading">​</a></h3><ul><li>表現層狀態轉換（英語：Representational State Transfer，縮寫：REST）<ul><li>資源（Resource）<ul><li>譬如你現在正在閱讀一篇《REST設計風格》的文章，文章的内容我們稱為<strong>資源</strong>。資源在<strong>各裝置長得不同，但內容不變</strong>，是同一份資源。</li></ul></li><li>表徵（Representation）<ul><li>當你透過電腦瀏覽此文章，瀏覽器向伺服器發出請求「我需要這個資源的<strong>HTML格式</strong>」，伺服器向瀏覽器回應的這個HTML就被稱之為表徵，<strong>可以是不同種的格式</strong>，指訊息用户交互時的表示形式。</li></ul></li><li>狀態（State）<ul><li>當你讀完這篇文章，想看後面是什麼内容時，你向伺服器發出請求「給我下一篇文章」但是下一篇是個相對概念，必須仰賴目前你正在閱讀的文章是哪一篇才能正確回應，這類在特定語境中才能產生的上下文(Context)訊息被稱為狀態。</li><li>有狀態(Stateful): 伺服器記住用戶狀態。</li><li>無狀態(Stateless): 客戶端在請求時告訴伺服器。</li></ul></li><li>轉移（Transfer）<ul><li>伺服器透過某種方式，把「用戶目前閱讀的文章」轉變成「下一篇文章」，稱為「表徵狀態轉移」。</li></ul></li></ul></li><li>URI，Uniform Resource Identifier，統一資源標識符<ul><li>HTTP 協議中已經提前約定好「統一介面」，包括：GET、HEAD、POST、PUT、DELETE、TRACE、OPTIONS 七種基本操作，對特定的 URI 採取這些操作，伺服器就会觸發相對應的表徵狀態轉移。</li></ul></li><li>超文本驅動（Hypertext Driven）：表徵狀態轉移－透過超文本内部的連結到下一篇。由伺服器發出的回應訊息（超文本）來驅動。告訴客戶端有哪些操作可以執行（下一頁、編輯、修改......）。</li><li>自我描述訊息（Self-Descriptive Messages）：資源的表徵可能存在多種不同型態，在訊息中應有明確的資訊告知客户端，該訊息的類型以及應該如何處理。譬如“Content-Type : application/json; charset=utf-8”。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="restful的系統">RESTFul的系統<a class="hash-link" href="#restful的系統" title="Direct link to heading">​</a></h3><ul><li>伺服器與客戶端分離</li><li>無狀態</li><li>可快取</li><li>分層系統</li><li>統一介面</li><li>按需代碼</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="rest的好處">REST的好處<a class="hash-link" href="#rest的好處" title="Direct link to heading">​</a></h3><ul><li>降低服務介面的學習成本：統一介面</li><li>資源與生俱來集合與層次結構：資源為中心的介面，名詞可以產生集合與層次結構</li></ul><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">GET /users/icyfenix/cart/2</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>REST綁定於HTTP協議</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="rmm-成熟度">RMM 成熟度<a class="hash-link" href="#rmm-成熟度" title="Direct link to heading">​</a></h3><p>Richardson Maturity Model 將REST分為三級：
0. The Swamp of Plain Old XML</p><ol><li>Resources：開始加入資源的概念。</li><li>HTTP Verbs：加入統一介面。</li><li>Hypermedia Controls：超文本驅動。Hypertext As The Engine Of Application State，HATEOAS。</li></ol><p>以醫生預約系統來做範例</p><p>查詢醫生在指定時間是否有空，並向醫生預約。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="第0級">第0級<a class="hash-link" href="#第0級" title="Direct link to heading">​</a></h4><ul><li>查詢醫生空閒時間</li></ul><p>POST /<strong>appointmentService</strong>?action=query HTTP/1.1</p><p>預約醫生時間</p><p>POST /<strong>appointmentService</strong>?action=confirm HTTP/1.1</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="第1級">第1級<a class="hash-link" href="#第1級" title="Direct link to heading">​</a></h4><ul><li>開始加入資源概念</li></ul><p>查詢醫生空閒時間</p><p>POST /doctors/mjones HTTP/1.1</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {id: 1234, start:&quot;14:00&quot;, end: &quot;14:50&quot;, doctor: &quot;mjones&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {id: 5678, start:&quot;16:00&quot;, end: &quot;16:50&quot;, doctor: &quot;mjones&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>預約醫生時間
POST /schedules/1234</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="第2級">第2級<a class="hash-link" href="#第2級" title="Direct link to heading">​</a></h4><p>加入統一介面</p><ul><li>查詢醫生空閒時間</li></ul><p><strong>GET</strong> /doctors/mjones/<strong>schedule?date=2020-03-04&amp;status=open</strong></p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {id: 1234, start:&quot;14:00&quot;, end: &quot;14:50&quot;, doctor: &quot;mjones&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {id: 5678, start:&quot;16:00&quot;, end: &quot;16:50&quot;, doctor: &quot;mjones&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>POST /schedules/1234 HTTP/1.1</p><p>回應透過HTTP Status Code：</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">* 成功：</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 201 Created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Successful confirmation of appointment</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">* 有人搶先預約：</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 409 Conflict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doctor not available</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="第3級">第3級<a class="hash-link" href="#第3級" title="Direct link to heading">​</a></h4><p>HATEOAS，物件直接告訴你說可以做哪些事。</p><p>GET /doctors/mjones/schedule?date=2020-03-04&amp;status=open HTTP/1.1</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schedules：[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            id: 1234, start:&quot;14:00&quot;, end: &quot;14:50&quot;, doctor: &quot;mjones&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            links: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {rel: &quot;comfirm schedule&quot;, href: &quot;/schedules/1234&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            id: 5678, start:&quot;16:00&quot;, end: &quot;16:50&quot;, doctor: &quot;mjones&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            links: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {rel: &quot;comfirm schedule&quot;, href: &quot;/schedules/5678&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    links: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {rel: &quot;doctor info&quot;, href: &quot;/doctors/mjones/info&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="rest的不足與爭議">REST的不足與爭議<a class="hash-link" href="#rest的不足與爭議" title="Direct link to heading">​</a></h3><p>筆者所見過懷疑 REST 能否在實踐中真正良好應用的部分爭議問題：</p><ul><li>資源導向思想只適合做CRUD，程序導向和物件導向才能處理真正複雜的業務邏輯<ul><li>REST不止是CRUD，也支持自定義方法。</li></ul></li></ul><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><ul><li>程序導向 -&gt; 以算法和處理過程為中心 -&gt; 符合電腦世界中主流的交互方式。</li><li>物件導向 -&gt; 將數據和行為統一、封装成物件 -&gt; 符合現實世界的主流的交互方式。</li><li>資源導向 -&gt; 將數據（資源）做為抽象的主體，把行為看作是統一介面 -&gt; 符合網路世界的主流的交互方式。</li></ul></div></div><ul><li>REST與HTTP完全綁定，不適合運用要求高性能傳輸的場景中<ul><li>HTTP並不是傳輸層協議，它是應用層協議</li></ul></li><li>REST不利於交易(Transaction)<ul><li>如果交易只是指希望保障數據的最終一致性，使用REST肯定不會有什麼阻礙。</li></ul></li><li>REST沒有傳輸可靠性支持<ul><li>是的，並沒有。HTTP傳送請求後，無法確定說是訊息沒發出去，或是伺服器沒有回應。</li></ul></li><li>REST缺乏對資源進行「部分」和「批次」的處理能力<ul><li>筆者認同，這很可能是未來資源導向的思想和API設計風格的發展方向。</li><li>REST 你可以直接獲取整個資源 -&gt; 過度獲取 OverFetching</li><li>批次修改 1000 個用戶，打了1000個API請求，可能會獲得429 Too Many Requests -&gt; 自定義方法<ul><li>GraphQL</li></ul></li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/NoobTechNote/NoobTechNote.github.io/tree/main/docs/sg/fenix-architecture/ch2.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-02-28T10:10:46.000Z">2/28/2023</time></b> by <b>zoe chen</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/sg/fenix-architecture/ch1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Ch1: 服務架構演進史</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/sg/fenix-architecture/ch3"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ch3: 交易處理</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#遠端服務呼叫" class="table-of-contents__link toc-highlight">遠端服務呼叫</a><ul><li><a href="#行程間的通訊" class="table-of-contents__link toc-highlight">行程間的通訊</a></li><li><a href="#通訊的成本" class="table-of-contents__link toc-highlight">通訊的成本</a></li><li><a href="#三個基本問題" class="table-of-contents__link toc-highlight">三個基本問題</a></li><li><a href="#統一的rpc" class="table-of-contents__link toc-highlight">統一的RPC</a></li><li><a href="#分裂的rpc" class="table-of-contents__link toc-highlight">分裂的RPC</a></li></ul></li><li><a href="#rest設計風格" class="table-of-contents__link toc-highlight">REST設計風格</a><ul><li><a href="#理解rest" class="table-of-contents__link toc-highlight">理解REST</a></li><li><a href="#restful的系統" class="table-of-contents__link toc-highlight">RESTFul的系統</a></li><li><a href="#rest的好處" class="table-of-contents__link toc-highlight">REST的好處</a></li><li><a href="#rmm-成熟度" class="table-of-contents__link toc-highlight">RMM 成熟度</a></li><li><a href="#rest的不足與爭議" class="table-of-contents__link toc-highlight">REST的不足與爭議</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023. DEX Study Group</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9a2703fd.js"></script>
<script src="/assets/js/main.a93be2db.js"></script>
</body>
</html>