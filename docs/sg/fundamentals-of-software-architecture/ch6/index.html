<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-sg/fundamentals-of-software-architecture/ch6">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Ch6: 測量及管理架構特性 | Noob Tech Note</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://noobtechnote.github.io/docs/sg/fundamentals-of-software-architecture/ch6"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ch6: 測量及管理架構特性 | Noob Tech Note"><meta data-rh="true" name="description" content="本章專注在具體定義一些更為常見的架構特性，並建構其管理機制"><meta data-rh="true" property="og:description" content="本章專注在具體定義一些更為常見的架構特性，並建構其管理機制"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://noobtechnote.github.io/docs/sg/fundamentals-of-software-architecture/ch6"><link data-rh="true" rel="alternate" href="https://noobtechnote.github.io/docs/sg/fundamentals-of-software-architecture/ch6" hreflang="en"><link data-rh="true" rel="alternate" href="https://noobtechnote.github.io/docs/sg/fundamentals-of-software-architecture/ch6" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.40771ce4.css">
<link rel="preload" href="/assets/js/runtime~main.564e919f.js" as="script">
<link rel="preload" href="/assets/js/main.92f7933b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icon-144.png" alt="Noob Tech Note" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/icon-144.png" alt="Noob Tech Note" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Noob Tech Note</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/sg">Study Group</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/sg/">Study Group Notes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Study Group Notes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/clean-architecture/">Clean Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Clean Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/sg/ddia/ch1">資料密集型應用系統設計</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/fenix-architecture/">鳳凰架構</a><button aria-label="Toggle the collapsible sidebar category &#x27;鳳凰架構&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/five-lines-of-code/">五行程式碼規則</a><button aria-label="Toggle the collapsible sidebar category &#x27;五行程式碼規則&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/">軟體架構原理 - 工程方法</a><button aria-label="Toggle the collapsible sidebar category &#x27;軟體架構原理 - 工程方法&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch1">Ch1: 介紹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch2">Ch2: 架構思維</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch3">Ch3: 模組化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch4">Ch4: 定義架構特性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch5">Ch5: 確認架構特性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch6">Ch6: 測量及管理架構特性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch7">Ch7: 架構特性之範圍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch8">Ch8: 以元件為基礎的思維</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch9">Ch9: 基礎</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch10">Ch10: 分層式架構風格</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch11">Ch11: 管道架構風格</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch12">Ch12: 微核心(Microkernel)架構風格</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch13">Ch13: 服務式(Service-Based)架構風格</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch14">Ch14: 事件驅動式架構</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch15">Ch15: 空間式架構風格</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch16">Ch16: 空間式架構風格</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch17">Ch17: 微服務架構</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch18">Ch18: 選擇適當的架構風格</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch19">Ch19: 架構決策</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch20">Ch20: 分析架構風險</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch21">Ch21: 架構的圖解與簡報</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch22">Ch22: 打造有效的團隊</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch23">Ch23: 交涉與領導技巧</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/ch24">Ch24: 發展一條職涯路徑</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/web-api-the-good-parts/">Web API: The Good Parts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web API: The Good Parts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/sg/"><span itemprop="name">Study Group Notes</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/sg/fundamentals-of-software-architecture/"><span itemprop="name">軟體架構原理 - 工程方法</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ch6: 測量及管理架構特性</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Ch6: 測量及管理架構特性</h1></header><p><strong><em>本章專注在具體定義一些更為常見的架構特性，並建構其管理機制</em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="測量架構特性">測量架構特性<a href="#測量架構特性" class="hash-link" aria-label="Direct link to 測量架構特性" title="Direct link to 測量架構特性">​</a></h2><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="測量架構特性的首要挑戰">測量架構特性的首要挑戰<a href="#測量架構特性的首要挑戰" class="hash-link" aria-label="Direct link to 測量架構特性的首要挑戰" title="Direct link to 測量架構特性的首要挑戰">​</a></h3><p><strong><em>定義</em></strong></p><ol><li>特性定義差異大<ul><li>業界對於常見的術語有非常不同的視角</li><li>例如效能，開發人員、架構與維運看的可能都不一樣</li></ul></li><li>高複合度特性<ul><li>許多合意的架構特性是由眾多更小尺度的特性構成</li><li>例如敏捷性就可以被分解成模組化、可部署性、以及可測試性</li></ul></li></ol><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Solution</p><ul><li>對架構特性進行客觀的定義，讓具體定義在整個組織內獲得共識</li><li>拆解高複合度的架構特性</li><li>進而發覺能被客觀定義且可供測量的特徵</li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="運維測量">運維測量<a href="#運維測量" class="hash-link" aria-label="Direct link to 運維測量" title="Direct link to 運維測量">​</a></h3><ol><li>具有可擴展性(scalability)、效能(performance)，這種較明顯能直接測量的架構特性</li><li>即便如此，依據不同團隊的目標不同，在測量指標的定義與測量方法上還是會有所不同<ul><li>例如以 request performance 來看，單純測量某些 request 的平均回應時間 or 要測量離群值?</li></ul></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="效能測量">效能測量<a href="#效能測量" class="hash-link" aria-label="Direct link to 效能測量" title="Direct link to 效能測量">​</a></h4><ol><li>general performance: how long request and response cycles take for a web application</li><li>效能預算 (performance budgets)<ul><li>架構師與DevOps工程師們一直以來都花了很多心力在建立效能預算上</li><li>分配特定的效能預算給應用程式特定的部分</li><li>例如，研究使用者行為發現使用者看到的第一個網頁要控制在 500ms 內呈現出來才能維持最佳的使用者體驗，所以這個就會是一個很重要必須要被持續追蹤的指標，不同組織也會有各自細緻的測量方法<ul><li>舉例 first contentful paint</li><li>first CPU idle</li></ul></li><li>部分指標對於應用程式的設計有額外的影響 (non-functional requirements)<ul><li>舉例 &quot;K-weight budget&quot;: 在特定頁面上允許下載的最大位元組(包含library與framework)</li><li>會需要套用這種效能預算，是基於網路高延遲區域的行動設備在網路傳輸上的位元組限制(物理限制)</li></ul></li></ul></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="可擴展性測量">可擴展性測量<a href="#可擴展性測量" class="hash-link" aria-label="Direct link to 可擴展性測量" title="Direct link to 可擴展性測量">​</a></h4><ul><li>先測量規模一段時間並建立其統計模型，再利用統計分析的結果來監控測量目標，當發現有超出監控目標的狀況時會alert，
這個 alert 可能有兩種含義：模型不正確(團隊希望知道這一點) 或者應用程式存在問題(團隊也希望知道這一點)</li><li>現代的技巧 burn rate<ul><li>需要知道 SLO</li><li>不需要先累積經驗知道指標的好壞</li><li><a href="https://cloud.google.com/stackdriver/docs/solutions/slo-monitoring/alerting-on-budget-burn-rate#:~:text=A%20burn%2Drate%20alerting%20policy,over%20the%20alert%27s%20compliance%20period" target="_blank" rel="noopener noreferrer">https://cloud.google.com/stackdriver/docs/solutions/slo-monitoring/alerting-on-budget-burn-rate#:~:text=A%20burn%2Drate%20alerting%20policy,over%20the%20alert%27s%20compliance%20period</a>.</li><li><a href="https://docs.datadoghq.com/service_management/service_level_objectives/burn_rate/" target="_blank" rel="noopener noreferrer">https://docs.datadoghq.com/service_management/service_level_objectives/burn_rate/</a></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="結構測量">結構測量<a href="#結構測量" class="hash-link" aria-label="Direct link to 結構測量" title="Direct link to 結構測量">​</a></h3><ol><li>測量上沒有明顯的客觀方法<ul><li>以內部結構特性來說，何謂定義明確的模組化 ?</li></ul></li><li>沒有很全面的指標，但有些狹窄維度的工具跟指標可以測量結構的一些重要面向</li><li>循環複雜度(CC, Cyclomatic Complexity)，程式碼層級的指標，測量程式碼複雜度
<img loading="lazy" alt="循環複雜度" src="/assets/images/cc-c59442014d12d645b640b0bcd32eb94c.png" width="1932" height="192" class="img_ev3q"><img loading="lazy" alt="循環複雜度範例" src="/assets/images/cc_example-8ccc3a9d42c341c607401eea87e91448.png" width="1154" height="1304" class="img_ev3q"><ul><li>如果團隊不注意逐漸程式碼增長的複雜度，最後程式碼會被複雜度控制</li><li>循環複雜度的值怎樣才算好?<ul><li>like all answers in software architecture: it depends!</li><li>It depends on the complexity of the problem domain.</li><li>不考慮領域複雜度，10 以下的值可以接受</li><li>作者認為要低於 5</li></ul></li><li>TDD 恰巧會有改善 CC 的效果</li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序測量">程序測量<a href="#程序測量" class="hash-link" aria-label="Direct link to 程序測量" title="Direct link to 程序測量">​</a></h3><ol><li>與軟體開發程序有關的架構特性，e.g. 敏捷性</li><li>敏捷性是複合型的架構特性，可拆解為可測試性、可部署性等</li><li>可測試性<ul><li>有明顯可客觀測量的特性</li><li>code coverage tools</li><li>100% code coverage yet poor assertions that don’t actually provide confidence in code correctness.</li></ul></li><li>可部署性<ul><li>有明顯可客觀測量的特性</li><li>部署結果成功相較於失敗的比例</li><li>部署花費的時間</li><li>部署引發的問題</li></ul></li><li>軟體開發程序會影響架構上採用的結構，例如開發程序上若高度要求容易部署以及可測試性，那結構上就會更強調模組化與隔離<ul><li>由架構特性驅動結構決策的例子</li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="管理架構特性">管理架構特性<a href="#管理架構特性" class="hash-link" aria-label="Direct link to 管理架構特性" title="Direct link to 管理架構特性">​</a></h2><p><strong><em>一旦架構師建立架構特性並排定優先順序，如何確認團隊有遵守呢? 架構特性經常是重要但是不緊急</em></strong></p><hr><ol><li>管理，意思是引導，是架構師的一項重要責任</li><li>日益精進的方法幫助架構師解決管理問題<ul><li>極限編程(extreme programing)帶動的持續整合概念將自動化從開發推展到維運(DevOps)，並且繼續往架構管理前進</li></ul></li><li>接下來介紹一組可應用在自動化架構管理的 fitness functions (適應度函數)</li></ol><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>架構師在導入適應度函式前，務必確認開發人員了解該適應度函式的目的</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="架構適應度函數">架構適應度函數<a href="#架構適應度函數" class="hash-link" aria-label="Direct link to 架構適應度函數" title="Direct link to 架構適應度函數">​</a></h3><p><strong><em>Architecture fitness function</em></strong></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="適應度函數">適應度函數<a href="#適應度函數" class="hash-link" aria-label="Direct link to 適應度函數" title="Direct link to 適應度函數">​</a></h4><p><em>a fitness function: an object function used to assess how close the output comes to achieving the aim.</em></p><ol><li>一種可用來評估實際結果多接近預期目標的客觀函數</li><li>traveling salesperson problem，何謂最佳路徑? 最短路徑長度 or 最少花費 or 最少旅行時間</li><li>基因演算法 ???? 不太懂作者講解這個 term 的目的，讀起來覺得不提到它對適應性函數也不會有什麼影響</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="架構適應度函數-1">架構適應度函數<a href="#架構適應度函數-1" class="hash-link" aria-label="Direct link to 架構適應度函數" title="Direct link to 架構適應度函數">​</a></h4><p><em>任何可為架構特性提供客觀完整性評估的機制</em></p><ol><li>are not some new framework, just a new perspective on many existing tools</li><li>適應度函數與許多現有的驗證機制重疊，e.g. metrics, monitors, unit testing libra‐ ries, chaos engineering</li><li>依據不同的架構特性，可使用不同的工具來實作 fitness function</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="適應度函數舉例---模組化">適應度函數舉例 - 模組化<a href="#適應度函數舉例---模組化" class="hash-link" aria-label="Direct link to 適應度函數舉例 - 模組化" title="Direct link to 適應度函數舉例 - 模組化">​</a></h3><p><strong><em>測試模組化的各種不同面向</em></strong></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="循環依賴">循環依賴<a href="#循環依賴" class="hash-link" aria-label="Direct link to 循環依賴" title="Direct link to 循環依賴">​</a></h4><p><img loading="lazy" alt="模組間的循環依賴" src="/assets/images/module_cyclic_dependencies-a2aac3afeeaeb94008ce4edddb1795b1.png" width="1812" height="868" class="img_ev3q"></p><ul><li>無法只復用單一元件</li><li>code review 作用在開發後期，幫助有限</li><li>使用指標工具 JDepend，檢查套件之間的依賴性，可以將此測試放在CI自動化檢查當中
<img loading="lazy" alt="檢查模組間的循環依賴" src="/assets/images/jdepend_containsCycles-e1730249ec8c00b1081262777e1cdd5c.png" width="1612" height="810" class="img_ev3q"></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="主序列距離">主序列距離<a href="#主序列距離" class="hash-link" aria-label="Direct link to 主序列距離" title="Direct link to 主序列距離">​</a></h4><p><img loading="lazy" alt="檢查模組的主序列距離" src="/assets/images/jdepend_main_seq_distance-0b6a530796f5a75cbe25f3dff517353c.png" width="1386" height="746" class="img_ev3q"></p><ul><li>使用指標工具 JDepend</li><li>開發人員與架構師在適應度函數上合作的好範例(?)</li><li>Architects must ensure that developers understand the purpose of the fitness function</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="分層架構">分層架構<a href="#分層架構" class="hash-link" aria-label="Direct link to 分層架構" title="Direct link to 分層架構">​</a></h4><p><img loading="lazy" alt="分層架構設計" src="/assets/images/layred_architecture-16e58cc05991732be90652bbaf58dd6c.png" width="1816" height="798" class="img_ev3q"></p><ul><li>架構師由於某些好的理由定義出各個分層</li><li>但開發人員可能會因為不了解模式的重要性、局部問題考量(例如效能)，沒有遵守分層規範傷害架構的長期健全性</li><li>ArchUnit (提供多種是先定義好、被編寫為單元測試的管理規則，讓架構師可以用來實作適應度函式)
<img loading="lazy" alt="ArchUnit分層架構檢查" src="/assets/images/archUnit_checkLayer-5cfe500f92ab34166ec541144bf4a0a1.png" width="1444" height="544" class="img_ev3q"></li><li>NetArchTest (.NET)
<img loading="lazy" alt="NetArchTest分層架構檢查" src="/assets/images/netArchTest_checkLayer-af35366342317f8f41dfe50f7d5e9972.png" width="1604" height="550" class="img_ev3q"></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="適應度函數舉例---netflix-混亂猴">適應度函數舉例 - Netflix 混亂猴<a href="#適應度函數舉例---netflix-混亂猴" class="hash-link" aria-label="Direct link to 適應度函數舉例 - Netflix 混亂猴" title="Direct link to 適應度函數舉例 - Netflix 混亂猴">​</a></h3><p><strong><em>Chaos Monkey</em></strong></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conformity-monkey---合規猴">Conformity Monkey - 合規猴<a href="#conformity-monkey---合規猴" class="hash-link" aria-label="Direct link to Conformity Monkey - 合規猴" title="Direct link to Conformity Monkey - 合規猴">​</a></h4><p>檢查架構師制定的管理規則在production是否被遵守，例如是否每個服務對RESTFul verbs都能有效回應</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="security-monkey---資安猴">Security Monkey - 資安猴<a href="#security-monkey---資安猴" class="hash-link" aria-label="Direct link to Security Monkey - 資安猴" title="Direct link to Security Monkey - 資安猴">​</a></h4><p>檢查資安缺陷，例如是否啟動某些不應該啟動的 port，或者是有沒有相關的錯誤設定</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="janitor-monkey---看門猴">Janitor Monkey - 看門猴<a href="#janitor-monkey---看門猴" class="hash-link" aria-label="Direct link to Janitor Monkey - 看門猴" title="Direct link to Janitor Monkey - 看門猴">​</a></h4><p>因為架構會持續演進，所以需要持續檢查是否有已經沒人在用的 instance，避免白花錢</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="管理架構適應度新視角---netflix-人猿軍團">管理架構適應度新視角 - Netflix 人猿軍團<a href="#管理架構適應度新視角---netflix-人猿軍團" class="hash-link" aria-label="Direct link to 管理架構適應度新視角 - Netflix 人猿軍團" title="Direct link to 管理架構適應度新視角 - Netflix 人猿軍團">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="simian-army---人猿軍團">Simian Army - 人猿軍團<a href="#simian-army---人猿軍團" class="hash-link" aria-label="Direct link to Simian Army - 人猿軍團" title="Direct link to Simian Army - 人猿軍團">​</a></h4><ul><li>Netflix決定將維運搬到AWS的時候，架構師擔心他們失去對維運的掌控</li><li>利用原來的混亂猴創造出混沌工程 (Choas Engineering) 與人猿軍團</li><li>開始使用 Choas Monkey 模擬生產環境中常見的狀況，以檢視系統應付能力有多高<ul><li>模擬高延遲性的的 Latency Monkey</li><li>模擬 Amazon data center failure 的 Chaos Kong (混亂金剛)</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="recap">Recap<a href="#recap" class="hash-link" aria-label="Direct link to Recap" title="Direct link to Recap">​</a></h2><ol><li>為什麼元件循環複雜性是架構上這麼重要的指標?</li><li>架構適應度函數是什麼? 怎麼用它來評估架構?</li><li>舉個例子 for 測量架構可擴展性的適應度函式</li><li>為讓架構師與開發人員得以創造適應度函數，架構特性應滿足的最重要準則為何?</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/NoobTechNote/NoobTechNote.github.io/tree/main/docs/sg/fundamentals-of-software-architecture/ch6.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-05-13T11:17:35.000Z">May 13, 2024</time></b> by <b>yvette-tsai</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/sg/fundamentals-of-software-architecture/ch5"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Ch5: 確認架構特性</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/sg/fundamentals-of-software-architecture/ch7"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ch7: 架構特性之範圍</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#測量架構特性" class="table-of-contents__link toc-highlight">測量架構特性</a><ul><li><a href="#測量架構特性的首要挑戰" class="table-of-contents__link toc-highlight">測量架構特性的首要挑戰</a></li><li><a href="#運維測量" class="table-of-contents__link toc-highlight">運維測量</a></li><li><a href="#結構測量" class="table-of-contents__link toc-highlight">結構測量</a></li><li><a href="#程序測量" class="table-of-contents__link toc-highlight">程序測量</a></li></ul></li><li><a href="#管理架構特性" class="table-of-contents__link toc-highlight">管理架構特性</a><ul><li><a href="#架構適應度函數" class="table-of-contents__link toc-highlight">架構適應度函數</a></li><li><a href="#適應度函數舉例---模組化" class="table-of-contents__link toc-highlight">適應度函數舉例 - 模組化</a></li><li><a href="#適應度函數舉例---netflix-混亂猴" class="table-of-contents__link toc-highlight">適應度函數舉例 - Netflix 混亂猴</a></li><li><a href="#管理架構適應度新視角---netflix-人猿軍團" class="table-of-contents__link toc-highlight">管理架構適應度新視角 - Netflix 人猿軍團</a></li></ul></li><li><a href="#recap" class="table-of-contents__link toc-highlight">Recap</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024. DEX Study Group</div></div></div></footer></div>
<script src="/assets/js/runtime~main.564e919f.js"></script>
<script src="/assets/js/main.92f7933b.js"></script>
</body>
</html>