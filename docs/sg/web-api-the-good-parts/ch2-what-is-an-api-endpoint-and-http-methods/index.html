<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-sg/web-api-the-good-parts/ch2-what-is-an-api-endpoint-and-http-methods">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Ch2:  What is an API Endpoint and HTTP methods ? | Noob Tech Note</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://noobtechnote.github.io/docs/sg/web-api-the-good-parts/ch2-what-is-an-api-endpoint-and-http-methods"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ch2:  What is an API Endpoint and HTTP methods ? | Noob Tech Note"><meta data-rh="true" name="description" content="思考如何設計 open sourse API endpoint"><meta data-rh="true" property="og:description" content="思考如何設計 open sourse API endpoint"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://noobtechnote.github.io/docs/sg/web-api-the-good-parts/ch2-what-is-an-api-endpoint-and-http-methods"><link data-rh="true" rel="alternate" href="https://noobtechnote.github.io/docs/sg/web-api-the-good-parts/ch2-what-is-an-api-endpoint-and-http-methods" hreflang="en"><link data-rh="true" rel="alternate" href="https://noobtechnote.github.io/docs/sg/web-api-the-good-parts/ch2-what-is-an-api-endpoint-and-http-methods" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7933f3c4.css">
<link rel="preload" href="/assets/js/runtime~main.db33ce7e.js" as="script">
<link rel="preload" href="/assets/js/main.a69a6367.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icon-144.png" alt="Noob Tech Note" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/icon-144.png" alt="Noob Tech Note" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Noob Tech Note</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/sg">Study Group</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/sg/">Study Group Notes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Study Group Notes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/clean-architecture/">Clean Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Clean Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/fenix-architecture/">鳳凰架構</a><button aria-label="Toggle the collapsible sidebar category &#x27;鳳凰架構&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/">軟體架構原理 - 工程方法</a><button aria-label="Toggle the collapsible sidebar category &#x27;軟體架構原理 - 工程方法&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/sg/web-api-the-good-parts/">Web API: The Good Parts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web API: The Good Parts&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/web-api-the-good-parts/ch1-what-is-web-api">Ch1: What is Web API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/sg/web-api-the-good-parts/ch2-what-is-an-api-endpoint-and-http-methods">Ch2: What is an API Endpoint and HTTP methods ?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/web-api-the-good-parts/ch3-design-response-data">Ch3: Design Response Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/web-api-the-good-parts/ch4-maximize-utilization-of-http">Ch4: 最大化的利用HTTP Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/web-api-the-good-parts/ch5-design-apis-changed-easily">Ch5: 開發方便更改設計的 Web API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/web-api-the-good-parts/ch6-web-api-security-and-stability">Ch6: 開發牢固的Web API</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/sg/"><span itemprop="name">Study Group Notes</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/sg/web-api-the-good-parts/"><span itemprop="name">Web API: The Good Parts</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ch2: What is an API Endpoint and HTTP methods ?</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Ch2:  What is an API Endpoint and HTTP methods ?</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="思考如何設計-open-sourse-api-endpoint">思考如何設計 open sourse API endpoint<a href="#思考如何設計-open-sourse-api-endpoint" class="hash-link" aria-label="Direct link to 思考如何設計 open sourse API endpoint" title="Direct link to 思考如何設計 open sourse API endpoint">​</a></h2><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Discussion</div><div class="admonitionContent_S0QG"><p>設計 API endpoint, 前端常常反應設計不佳, 又要改endpoint。如何提升後端sense ᕦ(ò_óˇ)ᕤ</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="21-設計通過api公開的功能">2.1 設計通過API公開的功能<a href="#21-設計通過api公開的功能" class="hash-link" aria-label="Direct link to 2.1 設計通過API公開的功能" title="Direct link to 2.1 設計通過API公開的功能">​</a></h2><p>設計SNS<del>交友</del>app時, 如何設計API，</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sns交友app-功能">SNS<del>交友</del>app 功能<a href="#sns交友app-功能" class="hash-link" aria-label="Direct link to sns交友app-功能" title="Direct link to sns交友app-功能">​</a></h3><table><thead><tr><th>功能</th></tr></thead><tbody><tr><td>用戶注冊</td></tr><tr><td>配對, 添加, 刪除好友</td></tr><tr><td>配對到互相傳訊息</td></tr></tbody></table><ul><li>3個 table<ul><li>User table</li><li>Match friends table</li><li>聊天訊息</li></ul></li></ul><p>如果只是用封裝SQL語句對API設計，一定很難用。還需要業務邏輯，DB存放的資料結構也有資安疑慮。</p><ul><li>思考 API 所需的功能<ul><li>圖 2-1</li><li>畫頁面切換的圖，列出功能清單。</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="22-api-endpoint-的設計思考">2.2 API endpoint 的設計思考<a href="#22-api-endpoint-的設計思考" class="hash-link" aria-label="Direct link to 2.2 API endpoint 的設計思考" title="Direct link to 2.2 API endpoint 的設計思考">​</a></h2><ul><li><p>endpoint 的基本規範：容易記憶，URL包含的功能一目了然</p><ol><li><p>短小便於輸入的URL</p><ul><li><code>https://www.dating.com/service/api/match</code> -&gt; <code>https://www.dating.com/match</code></li></ul></li><li><p>好閱讀的URL</p><ul><li>別缩寫命名 <code>https://www.dating.com/sv/u</code></li><li>用英文單字，別使用羅馬拼音命名。kefu 這變量名我思考很久到底是什麼含義, 直到我唸出來, 深深領悟原來是&quot;客服&quot;這詞彙。</li><li>詞彙用API語意常見的。&quot;餘額&quot;這詞彙卻不同命名: Balance, Money, Number, Blance, Menoy(為什麼連Money這單字都拼錯......而且大量單字都拼錯, 讓小弟我懷疑是不是背錯本單字 (｡ŏ_ŏ)</li><li>請打開 spell checking，左岸人是用羅馬拼音或打字打到旁邊鍵位。</li><li>注意單字的復數和過去式：data能加s嗎？datas</li></ul></li><li><p>沒有大小寫混用的URL，不能駝峰式！？</p></li><li><p>修改方便的URL</p><table><thead><tr><th>ID rnage</th><th>URL</th></tr></thead><tbody><tr><td></td><td>/v1/items/123456</td></tr><tr><td>1 ~ 300000</td><td>/v1/items/alpha/:id</td></tr><tr><td>400001 ~ 500000</td><td>/v1/items/beta/:id</td></tr><tr><td>500001 ~ 700000</td><td>/v1/items/garmma/:id</td></tr><tr><td>700001</td><td>/v1/items/delta/:id</td></tr></tbody></table></li><li><p>不會暴露服務器架構的URL <code>https://www.dating.com/cgi-bin/get_user.php?user=100</code></p></li><li><p>規則統一的URL</p><ul><li>GET  <code>https://www.dating.com/friends?id=100</code> -&gt;     <code>https://www.dating.com/friends/100</code></li><li>POST <code>https://www.dating.com/friend/100/message</code> -&gt; <code>https://www.dating.com/friends/100/message</code></li></ul></li></ol></li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Discussion</div><div class="admonitionContent_S0QG"><p>API point name: save, update, upload</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="23-http方法和端點">2.3 HTTP方法和端點<a href="#23-http方法和端點" class="hash-link" aria-label="Direct link to 2.3 HTTP方法和端點" title="Direct link to 2.3 HTTP方法和端點">​</a></h2><table><thead><tr><th>HTTP method</th><th>Description</th></tr></thead><tbody><tr><td>GET</td><td>Retrieve an existing resource.</td></tr><tr><td>POST</td><td>Create a new resource.</td></tr><tr><td>PUT</td><td>Update an existing resource.</td></tr><tr><td>PATCH</td><td>Partially update an existing resource.</td></tr><tr><td>DELETE</td><td>Delete a resource.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="231-get方法">2.3.1 GET方法<a href="#231-get方法" class="hash-link" aria-label="Direct link to 2.3.1 GET方法" title="Direct link to 2.3.1 GET方法">​</a></h3><ul><li>GET is a read-only</li><li>禁止GET修改 server handle</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.dating.com/friends&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Amber Heard&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;matched&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Winona Ryder&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;matched&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Discussion</div><div class="admonitionContent_S0QG"><ul><li>串接某專案API， get_list 該用 GET 全都用 POST ?</li><li>GET point 的 query parameters 不能 optional ?</li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="232-post方法">2.3.2 POST方法<a href="#232-post方法" class="hash-link" aria-label="Direct link to 2.3.2 POST方法" title="Direct link to 2.3.2 POST方法">​</a></h3><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;questions&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;妳覺得男方年收入多少才達到結婚門檻&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.dating.com/questions&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">questions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;userId&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;questions&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;妳覺得男方年收入多少才達到結婚門檻&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> json</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">questions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">status_code</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="233-put方法">2.3.3 PUT方法<a href="#233-put方法" class="hash-link" aria-label="Direct link to 2.3.3 PUT方法" title="Direct link to 2.3.3 PUT方法">​</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.dating.com/questions/10&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">questions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;userId&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;questions&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;妳覺得男方年收入多少才達到結婚門檻?&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> json</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">questions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">status_code</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="234-delete方法">2.3.4 DELETE方法<a href="#234-delete方法" class="hash-link" aria-label="Direct link to 2.3.4 DELETE方法" title="Direct link to 2.3.4 DELETE方法">​</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.dating.com/questions/10&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">delete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">status_code</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="235-patch方法">2.3.5 PATCH方法<a href="#235-patch方法" class="hash-link" aria-label="Direct link to 2.3.5 PATCH方法" title="Direct link to 2.3.5 PATCH方法">​</a></h3><ul><li>提問潤色一下</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.dating.com/questions/10&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">questions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;questions&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;妳覺得對象的理想年收入是多少&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">patch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> json</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">questions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">status_code</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Discussion</div><div class="admonitionContent_S0QG"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">* X-HTTP-Method-Override</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="24-api端點的設計">2.4 API端點的設計<a href="#24-api端點的設計" class="hash-link" aria-label="Direct link to 2.4 API端點的設計" title="Direct link to 2.4 API端點的設計">​</a></h2><table><thead><tr><th>HTTP method</th><th>endpoint</th><th></th></tr></thead><tbody><tr><td>GET</td><td>/v1/users</td><td>Get users list</td></tr><tr><td>POST</td><td>/v1/users</td><td>Create a user</td></tr><tr><td>GET</td><td>/v1/users:id</td><td>Get detail of user id</td></tr><tr><td>PUT/PATCH</td><td>/v1/users:id</td><td>Update detail of users</td></tr><tr><td>DELETE</td><td>/v1/users:id</td><td>Delete users id</td></tr></tbody></table><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Discussion</div><div class="admonitionContent_S0QG"><p>endpoint 一樣，method 不一樣，即可代表不同業務邏輯？
bad example:</p><ul><li>/v1/query_users</li><li>/v1/update_users</li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="241-訪問資源的端點設計的注意事項">2.4.1 訪問資源的端點設計的注意事項<a href="#241-訪問資源的端點設計的注意事項" class="hash-link" aria-label="Direct link to 2.4.1 訪問資源的端點設計的注意事項" title="Direct link to 2.4.1 訪問資源的端點設計的注意事項">​</a></h3><ul><li><p>注意名詞的複數</p></li><li><p>注意所用的單詞</p><ul><li>find -&gt; search</li><li>多看<code>https://www.programmableweb.com/</code>範例</li></ul></li><li><p>不使用空格及需要編碼的字符</p><ul><li>Percent Encoding。 %E3%81%82 中文字編碼</li></ul></li><li><p>使用連接符來連接多個單詞</p><table><thead><tr><th>Brand</th><th>Rule</th><th>URL</th></tr></thead><tbody><tr><td>Twitter</td><td>蛇形法</td><td>/statuses/user_timeline</td></tr><tr><td>YouTube</td><td>駝峰法</td><td>/guideCategories</td></tr><tr><td>Facebook</td><td>點分法</td><td>/me/books.quotes</td></tr><tr><td>LinkedIn</td><td>脊柱法</td><td>/v1/people-search</td></tr><tr><td>Bit.ly</td><td>蛇形法</td><td>/v3/user/popular_earned_by_clicks</td></tr><tr><td>Disqus</td><td>駝峰法</td><td>/api/3.0/applications/listUsage.json</td></tr></tbody></table></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-5-搜尋與參數查詢的設計">2-5 搜尋與參數查詢的設計<a href="#2-5-搜尋與參數查詢的設計" class="hash-link" aria-label="Direct link to 2-5 搜尋與參數查詢的設計" title="Direct link to 2-5 搜尋與參數查詢的設計">​</a></h2><blockquote><p>獲取資源列表的 Endpoint 同時具備搜尋功能。</p></blockquote><p>問題：GET 方法裡面，如何滿足較為複雜的搜尋場景？</p><ul><li>資料量體達到 1 billion 時超過 server 能負擔的上限怎麼辦？</li><li>用戶實際搜尋依據主要都是透過用戶的 <strong>姓名</strong>, <strong>email</strong> 或 <strong>電話</strong></li></ul><p>查詢參數的設計，滿足較複雜的查詢需求，提供更為彈性的設計方式，如:</p><ul><li>分頁機制:
取得單次查詢資料的上限，避免因為單次過量的請求超過伺服器負擔的上限</li><li>過濾資料:
只需加上過濾的參數就能實現搜尋用戶的功能</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="查詢參數的使用方式">查詢參數的使用方式<a href="#查詢參數的使用方式" class="hash-link" aria-label="Direct link to 查詢參數的使用方式" title="Direct link to 查詢參數的使用方式">​</a></h3><p>在 URI 末端加上 <code>?</code> ，後面帶上要用的查詢參數</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET /users?gender=male</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Discussion</div><div class="admonitionContent_S0QG"><p>怎樣的場合適合使用 query parameters?</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="251-取得資料量--資料取得位置的查詢參數">2.5.1 取得資料量 &amp; 資料取得位置的查詢參數<a href="#251-取得資料量--資料取得位置的查詢參數" class="hash-link" aria-label="Direct link to 2.5.1 取得資料量 &amp; 資料取得位置的查詢參數" title="Direct link to 2.5.1 取得資料量 &amp; 資料取得位置的查詢參數">​</a></h3><p>知名服務的 API 案例</p><table><thead><tr><th>服務名稱</th><th>取得資料量</th><th>取得位置(相對)</th><th>取得位置(絕對)</th></tr></thead><tbody><tr><td>GitHub</td><td>per_page</td><td>page</td><td>-</td></tr><tr><td>Tumblr</td><td>limit</td><td>offset</td><td>since_id</td></tr><tr><td>Twitter</td><td>count</td><td>cursor</td><td>max_id</td></tr><tr><td>YouTube</td><td>max</td><td>pageToken</td><td>publish_before/publish_after</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="考量到資料規模大的情況">考量到資料規模大的情況<a href="#考量到資料規模大的情況" class="hash-link" aria-label="Direct link to 考量到資料規模大的情況" title="Direct link to 考量到資料規模大的情況">​</a></h4><blockquote><p>採用分頁(Pagination) 的作法，取得部分的數據</p></blockquote><p>分頁所需的查詢參數包含 <strong>指定取得的資料量</strong>、<strong>取得資料的位置</strong> 兩者，相當於資料庫裡 SQL 語句的 <code>limit</code>, <code>offset</code> 。</p><p>參數名稱會因各家服務而異，但代表的意義是類似的。</p><p>根據表 2-11：</p><ol><li><code>limit</code>, <code>count</code>, <code>per_page</code> 表 <strong>取得的資料量</strong></li><li><code>page</code>, <code>offset</code>, <code>cursor</code> 表 <strong>取得資料的位置</strong></li></ol><p>常見組合: per_page/page; offset/limit;</p><ul><li>per_page/page: 以 <strong>頁數(page)</strong> 為單位計算; page 一般從 1 開始</li><li>offset/limit: 以 <strong>比數(limit)</strong> 為單位計算; offset 從 0 開始</li></ul><p>範例: 一頁 50 筆, 取得第三頁的資料 → 從第 101 筆開始</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">per_page=50&amp;page=3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">limit=50&amp;offset=100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>統一使用常見組合裡的其中一組，避免產生混淆，讓人難以理解</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="252-使用相對位置帶來的問題">2.5.2 使用相對位置帶來的問題<a href="#252-使用相對位置帶來的問題" class="hash-link" aria-label="Direct link to 2.5.2 使用相對位置帶來的問題" title="Direct link to 2.5.2 使用相對位置帶來的問題">​</a></h3><ul><li>效能考量：每次查詢都是從第一筆資料開始計算 → 隨著資料增長會顯現效能問題</li><li>支援度：並非所有選擇的儲存引擎都會支援用相對位置取得資料</li><li>讀取的資料有偏差 (圖 2-5)：更新頻率高的資料，在讀取時可能發生偏差</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="253-採絕對位置讀取資料">2.5.3 採絕對位置讀取資料<a href="#253-採絕對位置讀取資料" class="hash-link" aria-label="Direct link to 2.5.3 採絕對位置讀取資料" title="Direct link to 2.5.3 採絕對位置讀取資料">​</a></h3><p>指定讀取資料的位置，即特定的搜尋條件，如：「某個 ID 前」、「某個日期前」。</p><p>有別於相對位置的做法(從頭開始計算)，絕對位置事先紀錄當前取得資料的位置訊息(可能是 ID 數值 or 時間點)，再根據條件範圍進行查詢。</p><p>範例:</p><ol><li><a href="https://developer.twitter.com/en/docs/twitter-api/v1/tweets/timelines/guides/working-with-timelines" target="_blank" rel="noopener noreferrer">Twitter</a> API 裡的 <code>max_id</code>：取得指定 <code>max_id</code> 值之前的所有資料</li><li><a href="https://developers.google.com/youtube/v3/docs/search/list" target="_blank" rel="noopener noreferrer">Youtube</a> 的 <code>publish_before</code> / <code>publish_after</code>：取得指定的發布日期前/後的資料</li><li><a href="https://www.tumblr.com/docs/en/api/v2?language=pt_PT" target="_blank" rel="noopener noreferrer">Tumblr</a> API 的 <code>since_id</code> ：透過 <code>since_id</code> 判定資料(用戶關注其他用戶的所有動態)是否更新</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="254-用於過濾的參數">2.5.4 用於過濾的參數<a href="#254-用於過濾的參數" class="hash-link" aria-label="Direct link to 2.5.4 用於過濾的參數" title="Direct link to 2.5.4 用於過濾的參數">​</a></h3><p>SNS 服務的 API 裡搜尋用戶列表的條件，以用戶名作為參數達成搜尋指定用戶的功能。</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Discussion:</div><div class="admonitionContent_S0QG"><p>未設置過濾條件會使得 API 查詢特定用戶的功能毫無意義，採用回傳 403 錯誤碼處理
→ Why 403? not 400?</p></div></div><p>常見模式:</p><ul><li>單純的文字搜尋：用戶的動態消息</li><li>有多個項目的過濾條件：LinkedIn API 為例，指定過濾的參數名</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET /people-search?first-name=Clair</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET /people-search?last-name=Standish</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET /people-search?school-name=Shermer%20High%20School</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>若同個搜尋參數裡包含多個要素，則需要全部指定，如：Tumber API 藉由參數 - <strong>tag</strong> 來搜尋有打上相應標籤的貼文。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET /posts?tag=new+york+yankee</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>只有單個搜尋項目的情況下，會用 <code>q</code> 作為查詢參數，<code>q</code>為 query 的縮寫，達到模糊搜尋的功能，搜尋包含指定單詞的文章內容。</p><p>範例: Instagram API 指定用戶名來搜尋用戶資料</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET /user/search?q=jack</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>比較以下兩者差異:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[1] GET /users?name=jack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2] GET /users?q=jack</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>[1]<!-- --> 用戶名 (name) 需完全和 jack 一致才有辦法搜尋到，過濾的目標侷限於名字上。</p><p>[2]<!-- --> 用戶資訊只需包含 jack 即可，可作全文搜尋。
如：對文章搜尋時，文章內容只要包含指定的單詞就會出現在搜尋結果裡。</p><blockquote><p>知名案例: Google 搜尋</p><p>搜尋所有包含 <code>q</code> 指定單詞的所有網頁</p></blockquote><p>將參數 <code>q</code> 與其他字詞組合進行搜尋</p><p>範例: <a href="https://developer.twitter.com/en/docs/twitter-api/v1/tweets/search/api-reference/get-search-tweets" target="_blank" rel="noopener noreferrer">Twitter API</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET /search/tweets.json?q=%23game&amp;lang=ja</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>利用參數 <code>q</code> 來搜尋含有指定單詞的動態內容(含 hashtag)，結合其他參數指定語言、位置資訊。</p><ol><li><p>URI 是否應加上 “search” 一詞？search 表 “搜尋”的行為，為 “動詞”，放在表示資源的 URI 裡是否準確？</p><blockquote><p>用於搜尋的用途，非條列所有資訊</p></blockquote><p>如： Twitter API 無法取得所有 tweet 資訊，但提供搜尋用的 API 且獨立於其他一般的 API</p></li><li><p>以搜尋為主體的線上服務 API：
搜尋引擎的 API e.g. Yahoo, Bing，根據搜尋功能的定位有所差異</p></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Yahoo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET https://yboss.yahooapis.com/ysearch/web?q=ipod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET https://yboss.yahooapis.com/ysearch/news?q=trump</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET https://yboss.yahooapis.com/ysearch/images?q=cat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET https://yboss.yahooapis.com/ysearch/web,images?web.q=ipod&amp;images.q=mp3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET https://api.datamarket.com/Bing/Search/Web?Query=%27New+Xbox%27</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Discussion</div><div class="admonitionContent_S0QG"><p>複雜的 query string 處理方式？</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="255-查詢參數與路徑的使用區別">2.5.5 查詢參數與路徑的使用區別<a href="#255-查詢參數與路徑的使用區別" class="hash-link" aria-label="Direct link to 2.5.5 查詢參數與路徑的使用區別" title="Direct link to 2.5.5 查詢參數與路徑的使用區別">​</a></h3><p>可附加在查詢參數的資訊也能放置在路徑 e.g. <a href="https://docs.microsoft.com/en-us/linkedin/marketing/integrations/community-management/organizations/company-search?context=linkedin%2Fcompliance%2Fcontext&amp;tabs=http" target="_blank" rel="noopener noreferrer">LinkedIn API</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET /company/1337:(id,name,description,industry)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>設計 URI 時，決定 client 端指定參數放置在查詢參數 or 路徑裡的依據：</p><ol><li>能否表示唯一資源所需的資訊：<ul><li>用戶 ID 獲取的資料是唯一的 → 用戶 ID 適合放路徑</li><li>用戶驗證的 Access token 用查詢參數來指定</li></ul></li><li>能否省略：
搜尋時用到的參數如: <code>offset</code>、<code>limit</code>、<code>page</code> 若被省略，通常會給定預設值避免出錯 → 適合放在查詢參數</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-6-登入與-oauth-20">2-6 登入與 OAuth 2.0<a href="#2-6-登入與-oauth-20" class="hash-link" aria-label="Direct link to 2-6 登入與 OAuth 2.0" title="Direct link to 2-6 登入與 OAuth 2.0">​</a></h2><p>常見於第三方公開的 API 驗證&amp;授權 e.g. Facebook, Google, GitHub</p><p>Resource: <a href="https://www.youtube.com/watch?v=996OiexHze0&amp;t=1297s" target="_blank" rel="noopener noreferrer">OAuth 2.0 and OpenID Connect (video)</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="流程圖-2-6">流程：圖 2-6<a href="#流程圖-2-6" class="hash-link" aria-label="Direct link to 流程：圖 2-6" title="Direct link to 流程：圖 2-6">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="採用-oauth-驗證的好處">採用 OAuth 驗證的好處<a href="#採用-oauth-驗證的好處" class="hash-link" aria-label="Direct link to 採用 OAuth 驗證的好處" title="Direct link to 採用 OAuth 驗證的好處">​</a></h3><ul><li>廣泛被接受：經 RFC 6749 訂定標準化，大多程式語言都有相應的函式庫</li><li>易用</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="oauth-20-定義的-4-種模式獲得訪問資源的許可grant-type">OAuth 2.0 定義的 4 種模式獲得訪問資源的許可(Grant Type)<a href="#oauth-20-定義的-4-種模式獲得訪問資源的許可grant-type" class="hash-link" aria-label="Direct link to OAuth 2.0 定義的 4 種模式獲得訪問資源的許可(Grant Type)" title="Direct link to OAuth 2.0 定義的 4 種模式獲得訪問資源的許可(Grant Type)">​</a></h3><table><thead><tr><th>Grant Type</th><th>用途</th></tr></thead><tbody><tr><td>Authorization Code</td><td>適用於 Server 端處理大量請求的 Web App</td></tr><tr><td>Implicit Code</td><td>適用於 Mobile App &amp; Client 端 Javascript 處理請的 App</td></tr><tr><td>Resource Owner Password Credentials</td><td>適用於不使用第三方服務的  App</td></tr><tr><td>Client Credentials</td><td>適用於不以用戶為單位做驗證的 App</td></tr></tbody></table><blockquote><p>合適的形式: 明確指出採用 OAth2.0 &amp; 類似於 RFC 6749 提出的範例</p></blockquote><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/oauth2/token</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resource-owner-password-credentials-模式">Resource Owner Password Credentials 模式<a href="#resource-owner-password-credentials-模式" class="hash-link" aria-label="Direct link to Resource Owner Password Credentials 模式" title="Direct link to Resource Owner Password Credentials 模式">​</a></h3><p><a href="https://www.wikitechy.com/tutorials/oauth/oauth-resource-owner-password-credentials-grant-requests-and-response" target="_blank" rel="noopener noreferrer">WorkFlow</a></p><p>適用情境: 公司的內部系統</p><p>於 request body 以表單的形式(<code>application/x-www-form-urlencoded</code>)，進行 UTF-8 編碼後發送。</p><p>發送的內容包含以下數據：</p><table><thead><tr><th>鍵值(key)</th><th>內容</th></tr></thead><tbody><tr><td>grant_type</td><td>password → 表使用 Resource Owner Password Credentials 模式</td></tr><tr><td>username</td><td>登入的用戶名</td></tr><tr><td>password</td><td>登入的密碼</td></tr><tr><td>scope</td><td>(Optional) 指定允許訪問的權限範圍</td></tr></tbody></table><p>scope 用於指定允許訪問的權限範圍，可根據服務獨自定義，可達成自外部服務取得 token 的同時限縮權限範圍。</p><blockquote><p>案例: Facebook <a href="https://developers.facebook.com/docs/facebook-login/web" target="_blank" rel="noopener noreferrer">API</a> → scope=email</p></blockquote><p>範例: 來自 Client 端的請求</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST /oauth2/token HTTP1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host: api.sample.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Authorization: Basic &lt;base64_code&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/x-www-form-urlencoded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grant_type=password&amp;username=tom&amp;password=1234&amp;scope=api</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Server 端驗證後成功後的回傳範例:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;access_token&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;base64_code&gt;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;token_type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bearer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;expires_in&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;32434554&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;refresh_token&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;base64_code&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>後續訪問 API 時只需附帶 <code>access_token</code> 資訊即可，server 端可用 <code>access_token</code> 識別身份。</p><p>Client 端發送 <code>bearer  access_token</code> 給 server 的形式有三類:</p><ul><li>request header: Authorization 帶有 Bearer 作為前綴</li></ul><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Request Header</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">GET</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">users </span><span class="token constant" style="color:#36acaa">HTTP1</span><span class="token number" style="color:#36acaa">.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">Host</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sample</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">com</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">Authorization</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Bearer</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">base64_code</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>request body: 指定 Content-Type</li></ul><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Request Body</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">POST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">users </span><span class="token constant" style="color:#36acaa">HTTP1</span><span class="token number" style="color:#36acaa">.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">Host</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sample</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">com</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Content</span><span class="token operator" style="color:#393A34">-</span><span class="token maybe-class-name">Type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> application</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">x</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">www</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">form</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">urlencoded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">access_token</span><span class="token operator" style="color:#393A34">=</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">base64_code</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>以查詢參數的方式加到 URI 裡</li></ul><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Parameters in URI</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">GET</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">users</span><span class="token operator" style="color:#393A34">?</span><span class="token plain">access_token</span><span class="token operator" style="color:#393A34">=</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">base64_code</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"> HTTP1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">Host: api.sample.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Discussion</div><div class="admonitionContent_S0QG"><p>OAuth 如何整合現有的系統驗證流程，如：資料庫內表的結構如何設計？</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="261-access-token-的有效期更新">2.6.1 access token 的有效期&amp;更新<a href="#261-access-token-的有效期更新" class="hash-link" aria-label="Direct link to 2.6.1 access token 的有效期&amp;更新" title="Direct link to 2.6.1 access token 的有效期&amp;更新">​</a></h3><p><code>expires_in</code> 做作為判定 <code>access_token</code> 多久之後過期的依據，Server 收到過期的 token 時回傳 <code>401</code>。</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;error&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;invalid_token&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Client 端透過 <code>refresh_token</code> 跟第三方服務申請新的 <code>access_token</code> (註：並非每個服務有提供 <code>refresh_token</code>)。</p><p>申請新 <code>access_token</code>，可在 <code>grant_type</code> 參數裡指定 <code>refresh_token</code>，連同 <code>refresh_token</code> 一並發送給 server 端。</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Refresh Token</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">POST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">oauth2</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">token </span><span class="token constant" style="color:#36acaa">HTTP1</span><span class="token number" style="color:#36acaa">.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">Host</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sample</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">com</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">Authorization</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Basic</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">base64_code</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">Content-Type: application/x-www-form-urlencoded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">grant_type=refresh_token&amp;refresh_token=</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">base64_code</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="262-其他-grant-type">2.6.2 其他 Grant Type<a href="#262-其他-grant-type" class="hash-link" aria-label="Direct link to 2.6.2 其他 Grant Type" title="Direct link to 2.6.2 其他 Grant Type">​</a></h3><ul><li>Authorization Code、Implicit Code 適用的情況:<blockquote><p>第三方服務希望被允許訪問你的在線服務裡保存的用戶資訊。</p></blockquote></li><li>Client Credentials:<blockquote><p>適用於第三方想要訪問無需得到特定用戶許可的資訊時，無須提供用戶名&amp;密碼</p></blockquote></li></ul><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Client Credentials</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">POST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">oauth2</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">token </span><span class="token constant" style="color:#36acaa">HTTP1</span><span class="token number" style="color:#36acaa">.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">Host</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sample</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">com</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">Authorization</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Basic</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">base64_code</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">Content-Type: application/x-www-form-urlencoded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">grant_type=client_credentials</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>(補充) 自身訊息的別名 (alias)：透過 API 取得用戶自己的訊息，不再需要一個個指定用戶的 ID，使用 <code>self</code>, <code>me</code> 等 key words 表示用戶自己，透過 access token 獲取綁定的用戶資訊。</p><table><thead><tr><th>Service</th><th>Key Words</th><th>Sample</th></tr></thead><tbody><tr><td><a href="https://www.instagram.com/developer/changelog/" target="_blank" rel="noopener noreferrer">Instagram</a></td><td>self</td><td>users/self/media/liked</td></tr><tr><td><a href="https://docs.microsoft.com/en-us/linkedin/shared/integrations/people/profile-api" target="_blank" rel="noopener noreferrer">LinkedIn</a></td><td>me</td><td>/me</td></tr></tbody></table></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="27-主機名--端點共有的部分">2.7 主機名 &amp; 端點共有的部分<a href="#27-主機名--端點共有的部分" class="hash-link" aria-label="Direct link to 2.7 主機名 &amp; 端點共有的部分" title="Direct link to 2.7 主機名 &amp; 端點共有的部分">​</a></h2><p>比較表 2-16，主流服務的 API 設計</p><ul><li>域名加入 api → 易於理解</li><li>路徑加入版本號</li><li>部分 API 透過關鍵字區分屬性 e.g. openapi, api-public 描述 API 供給第三方使用</li></ul><p>對外提供 API，較為合適的網域名:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://api.example.com/v1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="28-sskds--api-設計">2.8 SSKDs &amp; API 設計<a href="#28-sskds--api-設計" class="hash-link" aria-label="Direct link to 2.8 SSKDs &amp; API 設計" title="Direct link to 2.8 SSKDs &amp; API 設計">​</a></h2><p>面向 LSUD (Large Set of Unknown Developers) v.s. 面向 SSKD (Small Set of Known Developers)</p><ul><li>具通用性</li><li>易於理解&amp;使用</li><li>終端使用者的體驗</li></ul><blockquote><p>範例： 電商 mobile APP 的 API</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="29-hateoas--rest-level3-api">2.9 HATEOAS &amp; REST Level3 API<a href="#29-hateoas--rest-level3-api" class="hash-link" aria-label="Direct link to 2.9 HATEOAS &amp; REST Level3 API" title="Direct link to 2.9 HATEOAS &amp; REST Level3 API">​</a></h2><p>Martin Fowler: 達成完美的 REST API 設計前，有下述幾種設計級別</p><ul><li>REST LEVEL 0: 使用 HTTP</li><li>REST LEVEL 1:  引入資源的概念</li><li>REST LEVEL 2:  引入 HTTP 動詞</li><li>REST LEVEL 3: 引入 HATEOAS 概念</li></ul><p>HATEOAS (Hypermedia as the Engine of Application State) 最早源自於 Roy Fielding，Hyper-Media 由多個媒體連結而成，表透過 API 處理的資源。</p><blockquote><p>HATEOAS 回傳的資料裡帶有下一步要執行的行為、要取得的數據等 URI 的資訊</p></blockquote><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">SNS 範例</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;friends&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Tom&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;link&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">&quot;uri&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://api.example.com/v1/users/1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">&quot;rel&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user/detail&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Jack&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;link&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">&quot;uri&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://api.example.com/v1/users/2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">&quot;rel&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user/detail&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;link&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;uri&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://api.example.com/v1/users/me/friends?since_id=123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;rel&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;next&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>rel</code>: 用於表示 URI 與當前數據的關係</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">訪問特定用戶的 URI</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Tom&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;link&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;uri&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://api.example.com/v1/users/1/messages&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;rel&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;friends/messages&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Client 端只需知道 API endpoint 的進入點，即可取得 API 提供的功能</p></blockquote><p>Q: Client 端如何知道當前訪問的數據類型？</p><blockquote><p>藉由 HTTP Header 裡 Content-Type 告知 Client 端訪問的數據類型</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="291-rest-level-3-api-的優點">2.9.1 REST LEVEL 3 API 的優點<a href="#291-rest-level-3-api-的優點" class="hash-link" aria-label="Direct link to 2.9.1 REST LEVEL 3 API 的優點" title="Direct link to 2.9.1 REST LEVEL 3 API 的優點">​</a></h3><ul><li>Client 端無需事先知道 URI 資訊也能順利訪問</li><li>減少 Client 端因 URI 出錯導致 bug 發生的機率</li><li>減少開發團隊修改上的負擔</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Discussion</div><div class="admonitionContent_S0QG"><p>HATEOAS 的缺點</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="292-rest-level-3-api">2.9.2 REST LEVEL 3 API<a href="#292-rest-level-3-api" class="hash-link" aria-label="Direct link to 2.9.2 REST LEVEL 3 API" title="Direct link to 2.9.2 REST LEVEL 3 API">​</a></h3><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Discussion</div><div class="admonitionContent_S0QG"><p>採用 HATEOAS 的時機點</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="210-小結">2.10 小結<a href="#210-小結" class="hash-link" aria-label="Direct link to 2.10 小結" title="Direct link to 2.10 小結">​</a></h2><p>多參考 <a href="https://www.programmableweb.com/apis/directory" target="_blank" rel="noopener noreferrer">ProgrammableWeb</a> 的 API  範例，比較其他服務的設計方法，設計出優美、好用的 API。</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Good</div><div class="admonitionContent_S0QG"><ul><li>設計好記、功能一目瞭然的 endpoint</li><li>使用適合的 HTTP 方法</li><li>選擇適合的英文單詞、注意單詞的單複數</li><li>使用 OAuth 2.0 驗證</li></ul></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/NoobTechNote/NoobTechNote.github.io/tree/main/docs/sg/web-api-the-good-parts/ch2-what-is-an-api-endpoint-and-http-methods.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-09-19T15:02:16.000Z">Sep 19, 2023</time></b> by <b>ChenTsungYu</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/sg/web-api-the-good-parts/ch1-what-is-web-api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Ch1: What is Web API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/sg/web-api-the-good-parts/ch3-design-response-data"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ch3: Design Response Data</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#思考如何設計-open-sourse-api-endpoint" class="table-of-contents__link toc-highlight">思考如何設計 open sourse API endpoint</a></li><li><a href="#21-設計通過api公開的功能" class="table-of-contents__link toc-highlight">2.1 設計通過API公開的功能</a><ul><li><a href="#sns交友app-功能" class="table-of-contents__link toc-highlight">SNS<del>交友</del>app 功能</a></li></ul></li><li><a href="#22-api-endpoint-的設計思考" class="table-of-contents__link toc-highlight">2.2 API endpoint 的設計思考</a></li><li><a href="#23-http方法和端點" class="table-of-contents__link toc-highlight">2.3 HTTP方法和端點</a><ul><li><a href="#231-get方法" class="table-of-contents__link toc-highlight">2.3.1 GET方法</a></li><li><a href="#232-post方法" class="table-of-contents__link toc-highlight">2.3.2 POST方法</a></li><li><a href="#233-put方法" class="table-of-contents__link toc-highlight">2.3.3 PUT方法</a></li><li><a href="#234-delete方法" class="table-of-contents__link toc-highlight">2.3.4 DELETE方法</a></li><li><a href="#235-patch方法" class="table-of-contents__link toc-highlight">2.3.5 PATCH方法</a></li></ul></li><li><a href="#24-api端點的設計" class="table-of-contents__link toc-highlight">2.4 API端點的設計</a><ul><li><a href="#241-訪問資源的端點設計的注意事項" class="table-of-contents__link toc-highlight">2.4.1 訪問資源的端點設計的注意事項</a></li></ul></li><li><a href="#2-5-搜尋與參數查詢的設計" class="table-of-contents__link toc-highlight">2-5 搜尋與參數查詢的設計</a><ul><li><a href="#查詢參數的使用方式" class="table-of-contents__link toc-highlight">查詢參數的使用方式</a></li><li><a href="#251-取得資料量--資料取得位置的查詢參數" class="table-of-contents__link toc-highlight">2.5.1 取得資料量 &amp; 資料取得位置的查詢參數</a></li><li><a href="#252-使用相對位置帶來的問題" class="table-of-contents__link toc-highlight">2.5.2 使用相對位置帶來的問題</a></li><li><a href="#253-採絕對位置讀取資料" class="table-of-contents__link toc-highlight">2.5.3 採絕對位置讀取資料</a></li><li><a href="#254-用於過濾的參數" class="table-of-contents__link toc-highlight">2.5.4 用於過濾的參數</a></li><li><a href="#255-查詢參數與路徑的使用區別" class="table-of-contents__link toc-highlight">2.5.5 查詢參數與路徑的使用區別</a></li></ul></li><li><a href="#2-6-登入與-oauth-20" class="table-of-contents__link toc-highlight">2-6 登入與 OAuth 2.0</a><ul><li><a href="#流程圖-2-6" class="table-of-contents__link toc-highlight">流程：圖 2-6</a></li><li><a href="#採用-oauth-驗證的好處" class="table-of-contents__link toc-highlight">採用 OAuth 驗證的好處</a></li><li><a href="#oauth-20-定義的-4-種模式獲得訪問資源的許可grant-type" class="table-of-contents__link toc-highlight">OAuth 2.0 定義的 4 種模式獲得訪問資源的許可(Grant Type)</a></li><li><a href="#resource-owner-password-credentials-模式" class="table-of-contents__link toc-highlight">Resource Owner Password Credentials 模式</a></li><li><a href="#261-access-token-的有效期更新" class="table-of-contents__link toc-highlight">2.6.1 access token 的有效期&amp;更新</a></li><li><a href="#262-其他-grant-type" class="table-of-contents__link toc-highlight">2.6.2 其他 Grant Type</a></li></ul></li><li><a href="#27-主機名--端點共有的部分" class="table-of-contents__link toc-highlight">2.7 主機名 &amp; 端點共有的部分</a></li><li><a href="#28-sskds--api-設計" class="table-of-contents__link toc-highlight">2.8 SSKDs &amp; API 設計</a></li><li><a href="#29-hateoas--rest-level3-api" class="table-of-contents__link toc-highlight">2.9 HATEOAS &amp; REST Level3 API</a><ul><li><a href="#291-rest-level-3-api-的優點" class="table-of-contents__link toc-highlight">2.9.1 REST LEVEL 3 API 的優點</a></li><li><a href="#292-rest-level-3-api" class="table-of-contents__link toc-highlight">2.9.2 REST LEVEL 3 API</a></li></ul></li><li><a href="#210-小結" class="table-of-contents__link toc-highlight">2.10 小結</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023. DEX Study Group</div></div></div></footer></div>
<script src="/assets/js/runtime~main.db33ce7e.js"></script>
<script src="/assets/js/main.a69a6367.js"></script>
</body>
</html>