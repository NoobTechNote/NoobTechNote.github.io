<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-sg/clean-architecture/ch7">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Ch7: SRP - 單一職責原則 | Noob Tech Note</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://noobtechnote.github.io/docs/sg/clean-architecture/ch7"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ch7: SRP - 單一職責原則 | Noob Tech Note"><meta data-rh="true" name="description" content="好的軟體架構始於 clean code。"><meta data-rh="true" property="og:description" content="好的軟體架構始於 clean code。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://noobtechnote.github.io/docs/sg/clean-architecture/ch7"><link data-rh="true" rel="alternate" href="https://noobtechnote.github.io/docs/sg/clean-architecture/ch7" hreflang="en"><link data-rh="true" rel="alternate" href="https://noobtechnote.github.io/docs/sg/clean-architecture/ch7" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.40771ce4.css">
<link rel="preload" href="/assets/js/runtime~main.20c108ea.js" as="script">
<link rel="preload" href="/assets/js/main.2d5dd4a1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icon-144.png" alt="Noob Tech Note" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/icon-144.png" alt="Noob Tech Note" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Noob Tech Note</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/sg">Study Group</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/sg/">Study Group Notes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Study Group Notes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/sg/clean-architecture/">Clean Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Clean Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch1">Ch1: 什麼是設計與結構</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch2">Ch2: 兩種價值觀的故事</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch3">Ch3: 範式概述</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch4">Ch4: 結構化程式設計</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch5">Ch5: 物件導向程式設計</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch6">Ch6: 函數式程式設計</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/sg/clean-architecture/ch7">Ch7: SRP - 單一職責原則</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch8">Ch8: OCP - 開放-封閉原則</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch9">Ch9: LSP - 里氏替換原則</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch10">Ch10: ISP - 介面隔離原則</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch11">Ch11: DIP - 依賴反轉原則</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch12">Ch12: 元件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch13">Ch13: 元件內聚性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch14">Ch14: 元件耦合性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch15">Ch15: 什麼是架構</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch16">Ch16: 獨立性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch17">Ch17: 邊界：畫線</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch18">Ch18: 邊界剖析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch19">Ch19: 策略和層級</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch20">Ch20: 業務規則</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch21">Ch21: 會尖叫的架構</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch22">Ch22: 整潔的架構</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch23">Ch23: Presenter 與 Humble Object</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch24">Ch24: 部分邊界</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch25">Ch25: 層與邊界</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch26">Ch26: 主元件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch27">Ch27: 服務的偉大與渺小</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch28">Ch28: 測試邊界</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch29">Ch29: 整潔的嵌入式架構</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch30">Ch30: 資料庫是細節</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch31">Ch31: Web 是細節</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch32">Ch32: 框架是細節</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch33">Ch33: 案例研究：影片販售</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sg/clean-architecture/ch34">Ch34: 遺漏的章節</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/sg/ddia/ch1">資料密集型應用系統設計</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/fenix-architecture/">鳳凰架構</a><button aria-label="Toggle the collapsible sidebar category &#x27;鳳凰架構&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/five-lines-of-code/">五行程式碼規則</a><button aria-label="Toggle the collapsible sidebar category &#x27;五行程式碼規則&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/fundamentals-of-software-architecture/">軟體架構原理 - 工程方法</a><button aria-label="Toggle the collapsible sidebar category &#x27;軟體架構原理 - 工程方法&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sg/web-api-the-good-parts/">Web API: The Good Parts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web API: The Good Parts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/sg/"><span itemprop="name">Study Group Notes</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/sg/clean-architecture/"><span itemprop="name">Clean Architecture</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ch7: SRP - 單一職責原則</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>SOLID</h1><blockquote><p>好的軟體架構始於 clean code。</p></blockquote><ul><li>能容忍變化，</li><li>容易理解，而且</li><li>是許多軟體系統中能夠使用的元件的基礎。</li></ul><blockquote><p>中層級：定義模組和元件內使用的軟體結構類型</p></blockquote><ul><li>SRP: 單一職責原則</li><li>OCP: 開放-封閉原則</li><li>LSP: 里氏替換原則</li><li>ISP: 介面隔離原則</li><li>DIP: 依賴反轉原則</li></ul><hr><h1>Single Responsibility Principle</h1><ul><li><p>一個模組應該只對唯一的一個角色負責</p></li><li><p>模組(Module)：</p><blockquote><p>一個原始檔(source file)</p></blockquote></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="症狀-1--意外重複">症狀 1 : 意外重複<a href="#症狀-1--意外重複" class="hash-link" aria-label="Direct link to 症狀 1 : 意外重複" title="Direct link to 症狀 1 : 意外重複">​</a></h2><p><img loading="lazy" alt="EmployeeClass" src="/assets/images/7.1.EmployeeClass-a46dc67fa46aa918415e881064195ce4.png" width="285" height="252" class="img_ev3q"></p><ul><li>calculatePay() 方法由會計部指定，並向 CFO 報告。</li><li>reportHours() 方法由人力資源部指定和使用，並向 COO 報告。</li><li>save() 方法由 DBA 指定，並向 CTO 報告。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="共用演算法">共用演算法<a href="#共用演算法" class="hash-link" aria-label="Direct link to 共用演算法" title="Direct link to 共用演算法">​</a></h4><p><img loading="lazy" alt="共用演算法" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUEAAAB+CAYAAAC6VaP9AAAEfXRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMkVsZWN0cm9uJTIyJTIwbW9kaWZpZWQlM0QlMjIyMDIyLTA5LTA1VDExJTNBNTclM0E1NS45NzJaJTIyJTIwYWdlbnQlM0QlMjI1LjAlMjAoTWFjaW50b3NoJTNCJTIwSW50ZWwlMjBNYWMlMjBPUyUyMFglMjAxMF8xNV83KSUyMEFwcGxlV2ViS2l0JTJGNTM3LjM2JTIwKEtIVE1MJTJDJTIwbGlrZSUyMEdlY2tvKSUyMGRyYXcuaW8lMkYxNS43LjMlMjBDaHJvbWUlMkY5MS4wLjQ0NzIuMTY0JTIwRWxlY3Ryb24lMkYxMy42LjElMjBTYWZhcmklMkY1MzcuMzYlMjIlMjBldGFnJTNEJTIyNTE1bzNvU3JtN3o1QzlOQTlIbjQlMjIlMjB2ZXJzaW9uJTNEJTIyMTUuNy4zJTIyJTIwdHlwZSUzRCUyMmRldmljZSUyMiUzRSUzQ2RpYWdyYW0lMjBpZCUzRCUyMkM1UkJzNDNvRGEtS2R6WmVOdHV5JTIyJTIwbmFtZSUzRCUyMlBhZ2UtMSUyMiUzRTNaWmRiNXN3RklaJTJGRFplUndDWnBkcHVNdFZ1enJWTzNSZHFkaTAlMkJCMVhDSU1Vbm9yNTlUMjNFWSUyRlZBcVZabDJFJTJCR0g0NCUyRnpudmVZQkhSZWJzOGxxJTJGUFB5RUVFSk9UYmdMNFBDQmxQaWY3ZGdjNkFPS0lHWkxMZ0JrVWVYQmYzWUdGb2FWdHdhSHFCQ2xHb291N0RGS3NLVXRWalRFcmM5TU51VWZSM3JWa0dBM0NkTWpHa3k0S3IzTkFwT2ZQOEFvb3NkenRIazNmbVRjbGNzTTJreVJuSHpRR2lTVURuRWxHWnAzSTdCN0hUenVteSUyRk5ndHhlSnVjdjdwVzdOaVAyYVgzNyUyRjhISm5GUGh3elpaJTJCQ2hFcTllbWxTTFg2TlZzblhETTl1N3VlYjIxbXk0cVBZcHFZNnB4ZHdMWjhkb2xRNVpsZ3hrWGc2azloV0hIYXJobnJrWXhhSXRZYVJocjlCcWM1NmdiVUtOY3BWS2V4YnMlMkJkdW83OUs5RUolMkJOcTdCVnFid1RGTFJ2amphMUlBbEtObnBlUklFVThXNnZ5bXo5c3IyY2Z1cFYxam80NURRZGtJOHRUNXdqZUI4NFpaUVRHYWc3Q3hmQ1Axd2NBeVBIc3B6Uktuc2dkZE10RFlGQ2JWVyUyRjBMTDBRektPSkI3RFZMQjloV0NENFYwVndQcEMwTGpzUmx2Zko5RjdocklEM3BzSEQ2dGZVJTJCMVl5VWElMkY0OXVKbSUyRmo1c2xwM1V3R2J0WlhkdHJxbk9DS2RhZXdNNDMlMkJOVHZUUnpvJTJCMHhMSms3VjhITVdQdSUyQllOTk5KRCUyRjIwMXR2TiUyRlVHanlCdyUzRCUzRCUzQyUyRmRpYWdyYW0lM0UlM0MlMkZteGZpbGUlM0V5T/WeAAAX50lEQVR4Xu1dB7BUxRJtEFBQciwkZ0SwBJGkZEVAyUEkSypEcs45lQQJimQkiQQJAiIIIiKFShaJSkaQrGCR5dfp+nddFnjM2527d2a3p4qSVzu3p+ec6XO7e1ZeHCK6RzKsRODePaHOFOLixIljiiviRywRAHP3JJhiiZoB0xF0wpsBRPzfBeHDHC5i4wl4ExGMDWIGzZWgM4gMIhI+zOJD1RsRQVWkDJwnQWcWKcKHWXyoeiMiqIqUgfMk6MwiRfgwiw9Vb0QEVZEycJ4EnVmkCB9m8aHqjYigKlIGzpOgM4sU4cMsPlS9ERFURcrAeRJ0ZpEifJjFh6o3IoKqSBk4T4LOLFKED7P4UPVGRFAVKQPnSdCZRYrwYRYfqt6ICKoiZeA8CTqzSBE+zOJD1RsRQVWkDJwnQWcWKcKHWXyoeiMiqIqUgfMk6MwiRfgwiw9Vb0QEVZEycJ4EnVmkCB9m8aHqjYigKlIGzpOgM4sU4cMsPlS9ERFURcrAeRJ0ZpEifJjFh6o3IoKqSBk4T4LOLFKED7P4UPVGRFAVKQPnSdCZRYrwYRYfqt6ICKoiZeA8CTqzSBE+zOJD1RsRQVWkDJwnQWcWKcKHWXyoeiMiqIqUgfMk6MwiRfgwiw9Vb4wSwTt37lD8+PHpwIEDlDt3btU9+OaVK1eO3nnnHWrWrNkjnz1+/Dj99NNPVLt27Rjtr1+/nsqXL3/fnLfeeos6duxIZcqUibVvbjwgQecGqsHbjDQ+AmMle/bs1L17d2rZsqUPpB07dlChQoXo/PnzlCpVquDB8/BJI0Vw//79lCdPnljDAhGsV68eNW/e/JHPfvnll9ShQwf6/fffY7T/zTff0GuvvUZnzpyhuHHj0j///ENDhgyhlStX0unTpylevHix9k/3A5EWdLrxCbe9SOMjMFYggt26daNWrVo9IILnzp2j1KlThxtyLeu5KoKXL1+m9957j1atWkWFCxfmt8jrr79OFy9epF69etGyZcsoZ86c1KRJExYuJxOECObIkYNFZ9KkSfyGad26Nb3//vv00UcfEez26dOHAZg4cSILFGz7iyDeUMOGDaPvv//et3aGDBk4uzty5AjVrFmTFi9eTGfPnqX27dvTxo0b6YUXXqCRI0fSiy++SI4I3r17l0UQY8+ePTxn9+7dVKBAARo+fDjNnTuX/a5cuTJ98MEHtGnTJurbty9t2LCBEiRIQLdv3+bMEXNfffVVLaQ5RiIt6LSC44Ext/mYOXMmHT161PcSnjx5Ms2aNYvGjh1L165dowYNGvDZwwu6fv36fFZXrFhBhw8f5jPes2dP/mVQiC/E5fbt2znZwPMlSpQgf/vXr1+nH3/88b5YeZwIpkiRgs85/Lp16xb7MHToUEqYMCHHeN26dalixYrMTKNGjfgPYqNYsWIc36NGjWJN2Lt3L40fP579q1atGsd4kiRJXGPUVRHEpkHa6NGj6auvvqLPP/+cDh06xCUlRGrEiBF07NgxatiwIRObJk0aLodB0nfffUddu3alzz77jEUPcyBeAPjChQs0bdo0BqVHjx509epVFkd/EUQ5Xbp0aWrRogUtWLCA10cZDHA//PBD/hliV6RIEUqWLBm/4VACwyest23bNs4EYRsiiHQfArlkyRL6448/aN++fSyoU6ZMoeTJk3N5/cknnzCp+BkiCn++/fZbKlu2LP3999+UOHFirUS6HXRanY0CY27zAUHBy79ChQr80r9x4wZVqlSJz3TevHmpadOmfN779etHECycWcTPlStXWCAhKvny5eMEI3/+/JyIfP311zRu3Dj67bffaOrUqT77qJZ27tzpi5WCBQuyTTwPwXTGqVOnWKSQCULAOnfuzEII+xBBiN/gwYO5ZEbcww8M/IzYrV69Osc8YqNLly78OdZZuHAhxxHsNW7cmDp16uTaCXJNBBH0SZMm5YwIwoBsCQS2bduWDh48SJkyZaKMGTOymABgCFDJkiV9Ioi3xJtvvsmE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" width="321" height="126" class="img_ev3q"></p><blockquote><p>分開不同角色所依賴的程式碼(separate the code that different actors depend on)</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="症狀-2--合併">症狀 2 : 合併<a href="#症狀-2--合併" class="hash-link" aria-label="Direct link to 症狀 2 : 合併" title="Direct link to 症狀 2 : 合併">​</a></h2><p><img loading="lazy" alt="MergeConflict" src="/assets/images/MergeConflict-e53056012e94fc3f79b7c9d10fb19bc0.gif" width="360" height="240" class="img_ev3q"></p><blockquote><p>分離支援不同角色的程式碼(separate code that supports different actors)</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="解決方案">解決方案<a href="#解決方案" class="hash-link" aria-label="Direct link to 解決方案" title="Direct link to 解決方案">​</a></h2><blockquote><p>避免意外重複(accidental duplication)</p></blockquote><p><img loading="lazy" alt="三個類別不相互了解" src="/assets/images/7.3-4124284d2bf36fc20d7b59878ea29851.png" width="301" height="196" class="img_ev3q"></p><p>三個類別不相互了解</p><p><img loading="lazy" alt="FACADE模式" src="/assets/images/7.4-0799505734478951a0860b70ee76d589.png" width="492" height="196" class="img_ev3q"></p><p>FACADE <!-- -->[fəˈsäd]<!-- --> 模式</p><p><img loading="lazy" alt="較少函數的FACADE模式" src="/assets/images/7.5-476ea64f79fa6d024eb84f8b6f3dd00f.png" width="352" height="142" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h2><ul><li>Bad way:</li></ul><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Book</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> author</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> pages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// constructor and other methods</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">saveToFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// some fs.write method to save book to file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Good way:</li></ul><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Book</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> author</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> pages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// constructor and other methods</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Persistence</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">saveToFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">book</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Book</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// some fs.write method to save book to file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-2">Example 2<a href="#example-2" class="hash-link" aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h2><ul><li>這個例子，Book Model 符合 SRP 嗎？為什麼？</li></ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// MVC Model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Book</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">constructor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">conn</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createConnection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">conn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Promise</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">resolve</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> reject</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;SELCT * FROM book&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">result</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">reject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">books</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">destructor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// MVC Controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">controller</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bookModel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Book</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> bookModel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Background Cronjob</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">updateAuthorJob</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bookModel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Book</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> books </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> bookModel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  books</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">book</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">book</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">author</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bob&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> bookModel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">books</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/NoobTechNote/NoobTechNote.github.io/tree/main/docs/sg/clean-architecture/ch7.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-06-12T03:16:35.000Z">Jun 12, 2024</time></b> by <b>Mech</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/sg/clean-architecture/ch6"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Ch6: 函數式程式設計</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/sg/clean-architecture/ch8"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ch8: OCP - 開放-封閉原則</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#症狀-1--意外重複" class="table-of-contents__link toc-highlight">症狀 1 : 意外重複</a></li><li><a href="#症狀-2--合併" class="table-of-contents__link toc-highlight">症狀 2 : 合併</a></li><li><a href="#解決方案" class="table-of-contents__link toc-highlight">解決方案</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li><li><a href="#example-2" class="table-of-contents__link toc-highlight">Example 2</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024. DEX Study Group</div></div></div></footer></div>
<script src="/assets/js/runtime~main.20c108ea.js"></script>
<script src="/assets/js/main.2d5dd4a1.js"></script>
</body>
</html>